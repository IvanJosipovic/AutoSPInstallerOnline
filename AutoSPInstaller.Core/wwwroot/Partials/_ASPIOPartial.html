
<div ng-if="config === null">
    <span class="h2">Farm Configuration Options</span>
    <h4>Choose an option below to begin</h4>
    <hr />
    <div class="col-md-6">
        <h2>Load Default Template</h2>
        <p>Choose this option if you would like to begin configuring your farm from a blank template.</p>
        <a class="btn btn-primary" ng-click="loadTemplate()" role="button">Begin with Template »</a>
    </div>
    <div class="col-md-6">
        <h2>Load from my XML</h2>
        <p>Choose this option if you would like to configure your own existing XML File.</p>
        <input class="btn btn-default" type="file" on-read-file="loadXML(data)" />
    </div>
</div>
<div ng-if="config !== null" class="row">
    <div class="col-md-4">
        <b>Navigation:</b>
        <ul class="list-unstyled">
            <li ng-click="setView('Servers')" ng-class="{ 'tree-active': view === 'Servers' }">
                <a href=""><i class="fa fa-server"></i> Servers <i ng-if="serversForm.$invalid" class="fa fa-exclamation-triangle text-danger"></i></a>
            </li>
            <li ng-click="setView('Install')" ng-class="{ 'tree-active': view === 'Install' }">
                <a href=""><i class="fa fa-cogs"></i> Install <i ng-if="installForm.$invalid" class="fa fa-exclamation-triangle text-danger"></i></a>
            </li>
            <li>
                <i class="fa fa-caret-down"></i>
                <b>Farm</b>
                <ul class="tree">
                    <li ng-click="setView('FarmMain')" ng-class="{ 'tree-active': view === 'FarmMain' }">
                        <a href=""><i class="fa fa-cog"></i> Main <i ng-if="farmMainForm.$invalid" class="fa fa-exclamation-triangle text-danger"></i></a>
                    </li>
                    <li ng-click="setView('FarmServices')" ng-class="{ 'tree-active': view === 'FarmServices' }">
                        <a href=""><i class="fa fa-cog"></i> Services <i ng-if="farmServicesForm.$invalid" class="fa fa-exclamation-triangle text-danger"></i></a>
                    </li>
                    <div ng-if="config.value.install.spVersion === '2016' || config.value.install.spVersion === '2019'">
                        <li ng-click="setView('FarmMinRoles')" ng-class="{ 'tree-active': view === 'FarmMinRoles' }">
                            <a href=""><i class="fa fa-cog"></i> MinRoles <i ng-if="FarmMinRolesForm.$invalid" class="fa fa-exclamation-triangle text-danger"></i></a>
                        </li>
                    </div>
                    <li ng-click="setView('FarmLogging')" ng-class="{ 'tree-active': view === 'FarmLogging' }">
                        <a href=""><i class="fa fa-file-text"></i> Logging <i ng-if="farmLoggingForm.$invalid" class="fa fa-exclamation-triangle text-danger"></i></a>
                    </li>
                </ul>
            </li>
            <li>
                <i class="fa fa-caret-down"></i>
                <b>Web Applications</b>
                <ul class="tree">
                    <li ng-click="addWebApp();">
                        <a href=""><i class="fa fa-plus"></i> Add New </a>
                    </li>
                    <li ng-if="mainForm.WebApps.webAppCountCheck.$invalid" class="text-danger">
                        One Web App is Required!
                        <i class="fa fa-exclamation-triangle text-danger"></i>
                    </li>
                    <li ng-repeat="wa in config.value.webApplications.webApplication" ng-click="setView('WebApp' + $index)" ng-init="subForm = 'formWebApp' + $index" ng-class="{ 'tree-active': view === 'WebApp' + $index }">
                        <a href=""><i class="fa fa-sitemap"></i> {{ wa.name }} <i ng-if="mainForm[subForm].$invalid" class="fa fa-exclamation-triangle text-danger"></i></a>
                    </li>
                </ul>
            </li>
            <li>
                <i class="fa fa-caret-down"></i>
                <b>Service Applications</b>
                <ul class="tree">
                    <div ng-if="config.value.install.sku !== 'Foundation'">
                        <li ng-click="setView('ServiceAppsMMS')" ng-class="{ 'tree-active': view === 'ServiceAppsMMS' }">
                            <a href="">&nbsp;<i class="fa fa-info"></i>&nbsp;&nbsp;Managed Metadata <i ng-if="formServiceAppsMMS.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.managedMetadataServiceApp.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                        </li>
                        <li ng-click="setView('ServiceAppsUPS')" ng-class="{ 'tree-active': view === 'ServiceAppsUPS' }">
                            <a href=""><i class="fa fa-users"></i> User Profile Service <i ng-if="formServiceAppsUPS.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.userProfileServiceApp.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                        </li>
                        <li ng-click="setView('ServiceAppsUsageandHealth')" ng-class="{ 'tree-active': view === 'ServiceAppsUsageandHealth' }">
                            <a href=""><i class="fa fa-heartbeat"></i> Usage and Health <i ng-if="formServiceAppsUsageandHealth.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.spUsageService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                        </li>
                        <li ng-click="setView('ServiceAppsStateService')" ng-class="{ 'tree-active': view === 'ServiceAppsStateService' }">
                            <a href=""><i class="fa fa-database"></i> State Service <i ng-if="formServiceAppsStateService.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.stateService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                        </li>
                        <li ng-click="setView('ServiceAppsSearch')" ng-class="{ 'tree-active': view === 'ServiceAppsSearch' }">
                            <a href=""><i class="fa fa-search"></i> Search Service <i ng-if="formServiceAppsSearch.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.enterpriseSearchService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                        </li>
                    </div>
                    <div ng-if="config.value.install.spVersion === '2010'">
                        <li ng-click="setView('ServiceAppsWebAnalytics')" ng-class="{ 'tree-active': view === 'ServiceAppsWebAnalytics' }">
                            <a href=""><i class="fa fa-table"></i> Web Analytics <i ng-if="formServiceAppsWebAnalytics.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.webAnalyticsService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                        </li>
                    </div>
                    <li ng-click="setView('ServiceAppsSecureStore')" ng-class="{ 'tree-active': view === 'ServiceAppsSecureStore' }">
                        <a href=""><i class="fa fa-user-secret"></i> Secure Store <i ng-if="formServiceAppsSecureStore.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.secureStoreService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                    </li>
                    <li ng-click="setView('ServiceAppsBDC')" ng-class="{ 'tree-active': view === 'ServiceAppsBDC' }">
                        <a href=""><i class="fa fa-table"></i> Business Data Connectivity <i ng-if="formServiceAppsBDC.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.businessDataConnectivity.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                    </li>
                    <div ng-if="config.value.install.spVersion !== '2010'">
                        <li ng-click="setView('ServiceAppsAppManagement')" ng-class="{ 'tree-active': view === 'ServiceAppsAppManagement' }">
                            <a href=""><i class="fa fa-bars"></i> App Management <i ng-if="formServiceAppsAppManagement.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.appManagementService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                        </li>
                        <li ng-click="setView('ServiceAppsSubscriptionService')" ng-class="{ 'tree-active': view === 'ServiceAppsSubscriptionService' }">
                            <a href=""><i class="fa fa-tasks"></i> Subscription Service <i ng-if="formServiceAppsSubscriptionService.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.subscriptionSettingsService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                        </li>
                        <div ng-if="config.value.install.sku !== 'Foundation'">
                            <li ng-click="setView('ServiceAppsWordAutomation')" ng-class="{ 'tree-active': view === 'ServiceAppsWordAutomation' }">
                                <a href=""><i class="fa fa-file-word-o"></i> Word Automation <i ng-if="formServiceAppsWordAutomation.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.wordAutomationService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                            </li>
                            <li ng-click="setView('ServiceAppsMachineTranslation')" ng-class="{ 'tree-active': view === 'ServiceAppsMachineTranslation' }">
                                <a href=""><i class="fa fa-globe"></i> Machine Translation <i ng-if="formServiceAppsMachineTranslation.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.machineTranslationService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                            </li>
                            <li ng-click="setView('ServiceAppsWorkManagement')" ng-class="{ 'tree-active': view === 'ServiceAppsWorkManagement' }" ng-if="config.value.install.spVersion === '2013'">
                                <a href=""><i class="fa fa-building-o"></i> Work Management <i ng-if="formServiceAppsWorkManagement.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.workManagementService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                            </li>
                            <li ng-click="setView('ServiceAppsPowerPointConversion')" ng-class="{ 'tree-active': view === 'ServiceAppsPowerPointConversion' }">
                                <a href=""><i class="fa fa-bar-chart"></i> PowerPoint Conversion <i ng-if="formServiceAppsPowerPointConversion.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.serviceApps.powerPointConversionService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                            </li>
                        </div>
                    </div>
                </ul>
            </li>
            <li ng-if="config.value.install.sku === 'Enterprise'">
                <i class="fa fa-caret-down"></i>
                <b>Enterprise Service Apps</b>
                <ul class="tree">
                    <div ng-if="config.value.install.spVersion !== '2016' && config.value.install.spVersion !== '2019'">
                        <li ng-click="setView('EntServiceAppsExcelServices')" ng-class="{ 'tree-active': view === 'EntServiceAppsExcelServices' }">
                            <a href=""><i class="fa fa-file-excel-o"></i> Excel Services <i ng-if="formEntServiceAppsExcelServices.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.enterpriseServiceApps.excelServices.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                        </li>
                    </div>
                    <li ng-click="setView('EntServiceAppsVisioServices')" ng-class="{ 'tree-active': view === 'EntServiceAppsVisioServices' }">
                        <a href=""><i class="fa fa-code-fork"></i> Visio Services <i ng-if="formEntServiceAppsVisioServices.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.enterpriseServiceApps.visioService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                    </li>
                    <li ng-click="setView('EntServiceAppsAccessServices2010')" ng-class="{ 'tree-active': view === 'EntServiceAppsAccessServices2010' }">
                        <a href=""><i class="fa fa-table"></i> Access Services 2010 <i ng-if="formEntServiceAppsAccessServices2010.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.enterpriseServiceApps.accessService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                    </li>
                    <li ng-if="config.value.install.spVersion !== '2010'" ng-click="setView('EntServiceAppsAccessServices2013')" ng-class="{ 'tree-active': view === 'EntServiceAppsAccessServices2013' }">
                        <a href=""><i class="fa fa-table"></i> Access Services 2013 <i ng-if="formEntServiceAppsAccessServices2013.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.enterpriseServiceApps.accessServices.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                    </li>
                    <li ng-click="setView('EntServiceAppsPerformancePoint')" ng-class="{ 'tree-active': view === 'EntServiceAppsPerformancePoint' }">
                        <a href=""><i class="fa fa-tachometer"></i> PerformancePoint Services <i ng-if="formEntServiceAppsPerformancePoint.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="config.value.enterpriseServiceApps.performancePointService.provision === 'false'" class="fa fa-minus-square text-muted"></i></a>
                    </li>
                </ul>
            </li>
            <li>
                <i class="fa fa-caret-down"></i>
                <b>Other</b>
                <ul class="tree">
                    <li ng-click="setView('Misc')" ng-class="{ 'tree-active': view === 'Misc' }">
                        <a href=""><i class="fa fa-cog"></i> Misc <i ng-if="formMisc.$invalid" class="fa fa-exclamation-triangle text-danger"></i></a>
                    </li>
                    <li ng-if="config.value.install.spVersion === '2010'" ng-click="setView('OfficeWebApps2010')" ng-class="{ 'tree-active': view === 'OfficeWebApps2010' }">
                        <a href=""><i class="fa fa-list-alt"></i> Office Web Apps 2010 <i ng-if="formOfficeWebApps2010.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="!config.value.officeWebApps.install" class="fa fa-minus-square text-muted"></i></a>
                    </li>
                    <li ng-if="config.value.install.spVersion !== '2010' && config.value.install.sku !== 'Foundation'" ng-click="setView('ProjectServer')" ng-class="{ 'tree-active': view === 'ProjectServer' }">
                        <a href=""><i class="fa fa-tasks"></i> Project Server <i ng-if="formProjectServer.$invalid" class="fa fa-exclamation-triangle text-danger"></i><i ng-if="!config.value.projectServer.install" class="fa fa-minus-square text-muted"></i></a>
                    </li>
                </ul>
            </li>
            <li>&nbsp;</li>
            <li ng-click="setView('Review')" ng-class="{ 'tree-active': view === 'Review' }">
                <a href=""><i class="fa fa-cloud-download"></i> Review & Download <i ng-if="mainForm.$invalid" class="fa fa-exclamation-triangle text-danger"></i></a>
            </li>
            <li>
                <a href="" ng-click="clearConfig()"><i class="fa fa-trash-o"></i> Reset Configuration</a>
            </li>
        </ul>
    </div>
    <div class="col-md-8">
        <form class="form-horizontal" name="mainForm" novalidate>
            <ng-form name="serversForm" ng-show="view === 'Servers'">
                <span class="h2">Servers</span>
                <h4>Enter the Hostnames of the SharePoint Servers Only!</h4>
                <h4>If it's a Single Server Farm, you can use leave this empty</h4>
                <hr />
                <div class="form-group" uib-tooltip="Enter the hostnames of the SharePoint servers. If you are deploying a Single Server Farm leave this empty.">
                    <label class="control-label col-md-3" uib-tooltip="">Servers List:</label>
                    <div class="col-md-9">
                        <select ng-model="selectedServer" name="config_value_farm_servers_servers" ng-options="item for item in serversArray" size="10" class="form-control" ensure-expression="{minservers: serversArray.length !== 1}" ensure-watch-collection="serversArray"></select>
                        <input type="text" ng-model="newServer" class="form-control input-sm" uib-tooltip="Enter a Hostname, not FQDN" placeholder="Enter Hostname">
                        <input ng-click="addServer(newServer)" type="button" value="Add" class="btn btn-primary btn-sm" />
                        <input ng-click="removeServer()" type="button" value="Remove Selected" class="btn btn-danger btn-sm"/>

                        <div ng-messages="serversForm.config_value_farm_servers_servers.$error" class="text-danger">
                            <div ng-message="minservers">The Server List must contain 0 or more than 1 servers.</div>
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Servers-->
            <ng-form name="installForm" ng-show="view === 'Install'">
                <span class="h2">Installation Options</span>
                <h4>Options for the installation of SharePoint binaries.</h4>
                <hr />
                <div class="form-group form-group-sm" uib-tooltip="The Environment attribute appears at the top of the installation transcript, and will now also appear at the top of the SharePoint 2013 Central Administration top-left branding bar.It does not affect the SharePoint 2010 installation though.Simply leave the Environment attribute blank if you do not want to alter the branding bar in SP2013 Central Admin.">
                    <label class="control-label col-md-3">Environment Name:</label>
                    <div class="col-md-9">
                        <input type="text" ng-model="config.value.environment" class="form-control" />
                    </div>
                </div>
                <div class="form-group form-group-sm" uib-tooltip="Select the SharePoint version you will be installing." ng-class="{ 'has-error': installForm.config_value_install_spVersion.$invalid }">
                    <label class="control-label col-md-3">SharePoint Version:</label>
                    <div class="col-md-9">
                        <label class="radio-inline" uib-tooltip="SharePoint 2010">
                            <input type="radio" ng-model="config.value.install.spVersion" name="config_value_install_spVersion" value="2010" />2010
                        </label>
                        <label class="radio-inline" uib-tooltip="SharePoint 2013">
                            <input type="radio" ng-model="config.value.install.spVersion" name="config_value_install_spVersion" value="2013" />2013
                        </label>
                        <label class="radio-inline" uib-tooltip="SharePoint 2016">
                            <input type="radio" ng-model="config.value.install.spVersion" name="config_value_install_spVersion" value="2016" />2016
                        </label>
                        <label class="radio-inline" uib-tooltip="SharePoint 2019">
                            <input type="radio" ng-model="config.value.install.spVersion" name="config_value_install_spVersion" value="2019" ensure-expression="{required: config.value.install.spVersion === '2010' || config.value.install.spVersion === '2013' || config.value.install.spVersion === '2016' || config.value.install.spVersion === '2019'}" />2019
                        </label>
                        <div ng-messages="installForm.config_value_install_spVersion.$error" class="text-danger">
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group form-group-sm" uib-tooltip="If enabled, the SharePoint prerequisite installer will install from the \SharePoint\PrerequisiteInstallerFiles folder.If disabled, the prerequisites will be downloaded during install. In order to use true you must obviously download all the prerequisites in advance.You can use a script like http://autospsourcebuilder.codeplex.com to quickly accomplish this.For simplicity sake, I would recommend allowing the installer to download the prerequisites automatically.">
                    <label class="control-label col-md-3">Offline Install:</label>
                    <div class="col-md-9">
                        <input type="checkbox" ng-model="config.value.install.offlineInstall" />
                    </div>
                </div>
                <div class="form-group form-group-sm" uib-tooltip="If enabled, the script will pause after the SharePoint binaries are installed.Useful for running the binary install simultaneously on multiple servers but stopping short of the farm config (which can cause conflicts if running on multiple servers at once).">
                    <label class="control-label col-md-3">Pause After Install:</label>
                    <div class="col-md-9">
                        <input type="checkbox" ng-model="config.value.install.pauseAfterInstall" />
                    </div>
                </div>
                <fieldset>
                    <legend>Remote Install</legend>
                    <div class="form-group form-group-sm" uib-tooltip="If enabled, the script will attempt a centralized, remote install & config of your entire farm.">
                        <label class="control-label col-md-3">Remote Install:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.install.remoteInstall.enable" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-show="config.value.install.remoteInstall.enable" uib-tooltip="Parallel Install controls whether SharePoint binary file installs are triggered simultaneously on all servers in the farm during a remote install. Can speed things up considerably (unless of course all your VMs are running on the same host, sharing I/O resources etc.!)Note that if ParallelInstall is enabled, it will override PauseAfterInstall above such that the script will *always* pause after install.">
                        <label class="control-label col-md-3">Parallel Install:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.install.remoteInstall.parallelInstall" />
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Auto Logon</legend>
                    <div class="form-group form-group-sm" uib-tooltip="If enabled the script will place values in the registry that allow automatic logon with the install account credentials (only), should the installation process require reboot(s).In combination with the RunOnce entry, it gives a better unattended experience (as there can be several reboots now with SharePoint 2013).Only the dedicated install account is supported; you can enter its password below. Note that it will be stored in PLAIN TEXT, both here and in the registry so be sure to change it afterwards (or disable the account).Otherwise, you can leave the password blank in order to be prompted at run-time (though it will still be stored in plain text in the registry, at least until the server is rebooted once more after the install.">
                        <label class="control-label col-md-3">Auto Logon:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.install.autoAdminLogon.enable" />
                        </div>
                    </div>
                    <div class="form-group" ng-show="config.value.install.autoAdminLogon.enable" uib-tooltip="Password of the Installation Account.">
                        <label class="control-label col-md-3">Install Account Password:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.install.autoAdminLogon.password" class="form-control">
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Disable Components</legend>
                    <div class="form-group form-group-sm" uib-tooltip="Disables network loopback checks. This prevents the OS blocking access to your server under names other than its actual host name, which SharePoint needs to do for WebDAV requests.">
                        <label class="control-label col-md-3">Disable Loopback Check:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.install.disable.loopbackCheck" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Disables Windows services that are running by default on Windows 2008 that are not used by SharePoint to conserve resources. Disables Spooler, AudioSrv, TabletInputService and WerSvc.">
                        <label class="control-label col-md-3">Disable Unused Services:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.install.disable.unusedServices" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Disables IE Enhanced Security configuration, so that your sites and Central Admin render properly in a browser on the server.">
                        <label class="control-label col-md-3">Disable IE Enhanced Security:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.install.disable.ieEnhancedSecurity" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Disables checking whether the code-signing certificates used to sign the SharePoint code have been revoked.This slows down the start up time for SharePoint, particularly if the server cannot connect to the Internet to perform the revocation check. If your sever has Internet access, leave this disabled for security reasons.">
                        <label class="control-label col-md-3">Disable Certificate Revocation Check:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.install.disable.certificateRevocationListCheck" />
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Unattended Install</legend>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': installForm.config_value_install_configFile.$invalid }"
                         uib-tooltip="Normally this is called config.xml.This file contains configuration which the SharePoint setup.exe will use to install the SharePoint binaries.AutoSPInstaller can now create this file if it doesn't already exist based on the Config File, Data Dir, PIDKey and SKU properties below. This text box must not be empty, leave as is if you are not going to create a config.xml manually.">
                        <label class="control-label col-md-3">Config File:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.install.configFile" required name="config_value_install_configFile" class="form-control">
                            <div ng-messages="installForm.config_value_install_configFile.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="The location used to store the SharePoint server program files (on a drive letter that must exist on all SharePoint servers in the farm)If you don't specify a value, the default location of %PROGRAMFILES%\Microsoft Office Servers\ is used. Don't change this unless you know what you're doing :). Note that this does NOT affect the location of the 14/15 'hive' or SharePoint root - this will still always go to %COMMONPROGRAMFILES%\Microsoft Shared\Web Server Extensions\...">
                        <label class="control-label col-md-3">Install Directory:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.install.installDir" class="form-control" placeholder="C:\Program Files\Microsoft Office Servers">
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="The location used to store the SharePoint data files, including (by default) the search index files and anlayitics data (2013+) (on a drive letter that must exist on all SharePoint servers in the farm).If you don't specify a value, the default location of %PROGRAMFILES%\Microsoft Office Servers\14.0\Data or %PROGRAMFILES%\Microsoft Office Servers\15.0\Data (based on SharePoint version) is used. Please note, the Search Index requires a minimum of 500GB and the Analyitics component requires a minimum of 300GB.">
                        <label class="control-label col-md-3">Data Directory:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.install.dataDir" class="form-control" placeholder="C:\Program Files\Microsoft Office Servers\{SharePoint Build}\Data">
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': installForm.config_value_install_sku.$invalid }" uib-tooltip="SKU can be either Foundation, Standard or Enterprise. You are responsible for ensuring the PIDKey matches the SKU selected, the script won't/can't validate this.">
                        <label class="control-label col-md-3">SKU:</label>
                        <div class="col-md-9">
                            <label class="radio-inline" ng-show="config.value.install.spVersion !== '2016' && config.value.install.spVersion !== '2019'">
                                <input type="radio" ng-model="config.value.install.sku" name="config_value_install_sku" value="Foundation" />Foundation
                            </label>
                            <label class="radio-inline">
                                <input type="radio" ng-model="config.value.install.sku" name="config_value_install_sku" value="Standard" />Standard
                            </label>
                            <label class="radio-inline">
                                <input type="radio" ng-model="config.value.install.sku" name="config_value_install_sku" value="Enterprise" ensure-expression="{required: (config.value.install.spVersion !== '2016' || config.value.install.spVersion !== '2019' && config.value.install.sku === 'Foundation') || config.value.install.sku === 'Standard' || config.value.install.sku === 'Enterprise'}" ensure-Watch="config.value.install.spVersion" />Enterprise
                            </label>
                            <div ng-messages="installForm.config_value_install_sku.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-hide="config.value.install.sku === 'Foundation'" ng-class="{ 'has-error': installForm.config_value_install_pidKey.$invalid }" uib-tooltip="If you are referencing an existing config.xml file, enter the your product key in that file.Otherwise, enter your product key here and AutoSPInstaller will create the config.xml for you. Please make sure this key is valid as AutoSPInstaller is not able to validate it.">
                        <label class="control-label col-md-3">Pid Key:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.install.pidKey" name="config_value_install_pidKey" ng-required="config.value.install.sku !== 'Foundation'" class="form-control" ng-pattern="/^([A-Z1-9]{5})-([A-Z1-9]{5})-([A-Z1-9]{5})-([A-Z1-9]{5})-([A-Z1-9]{5})$/">
                            <div ng-messages="installForm.config_value_install_pidKey.$error" class="text-danger">
                                <div ng-message="pattern">This is not a valid Key.</div>
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </ng-form>
            <!--Install-->
            <ng-form ng-show="view === 'FarmMain'" name="farmMainForm">
                <span class="h2">Farm</span>
                <h4>Configure the Main Farm Options</h4>
                <hr />
                <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_passphrase.$invalid }" uib-tooltip="Enter the passphase that will be used to join additional servers to the farm. This farm passphrase will also be used for the Secure Store Service Application.">
                    <label class="control-label col-md-3">Farm Passphrase:</label>
                    <div class="col-md-9">
                        <input type="text" ng-model="config.value.farm.passphrase" name="config_value_farm_passphrase" class="form-control" ensure-expression="{complexity : validatePassword(config.value.farm.passphrase)}">
                        <div ng-messages="farmMainForm.config_value_farm_passphrase.$error" class="text-danger">
                            <div ng-message="complexity">This passphrase is not complex enough</div>
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </div>
                </div>
                <fieldset>
                    <legend>Farm Account</legend>
                    <div class="form-group form-group-sm" uib-tooltip="If enabled, the Farm account will be added to the server's local administrators group for the duration of the execution of the script. This is required to correctly provision the User Profile Service Application.">
                        <label class="control-label col-md-3">Add to Local Admin During Setup:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.farm.account.addToLocalAdminsDuringSetup" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-show="config.value.farm.account.addToLocalAdminsDuringSetup" uib-tooltip="If for some reason you need to leave the Farm account in the Administrators group after setup, set LeaveInLocalAdmins to enabled.">
                        <label class="control-label col-md-3">Leave In Local Admin:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.farm.account.leaveInLocalAdmins" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_account_username.$invalid }" uib-tooltip="The Farm Account Username. DOMAIN\Account.">
                        <label class="control-label col-md-3">Username:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.farm.account.username" name="config_value_farm_account_username" class="form-control"
                                   required palceholder="CONTOSO\SP_Farm" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/'>
                            <div ng-messages="farmMainForm.config_value_farm_account_username.$error" class="text-danger">
                                <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="The Farm Account password.">
                        <label class="control-label col-md-3">Password:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.farm.account.password" class="form-control">
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Database</legend>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                        <label class="control-label col-md-3">Create Alias:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.farm.database.dbAlias.create" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_database_dbServer.$invalid }" uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias.">
                        <div ng-show="config.value.farm.database.dbAlias.create === false">
                            <label class="control-label col-md-3">Database Server:</label>
                        </div>
                        <div ng-show="config.value.farm.database.dbAlias.create">
                            <label class="control-label col-md-3">Alias Name:</label>
                        </div>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.farm.database.dbServer" name="config_value_farm_database_dbServer" class="form-control" required>
                            <div ng-messages="farmMainForm.config_value_farm_database_dbServer.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-show="config.value.farm.database.dbAlias.create">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_database_dbAlias_dbInstance.$invalid }" uib-tooltip="The Database Server. Name\Instance.">
                            <label class="control-label col-md-3">Database Server Instance:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.farm.database.dbAlias.dbInstance" name="config_value_farm_database_dbAlias_dbInstance" class="form-control" ng-required="config.value.farm.database.dbAlias.create" />
                                <div ng-messages="farmMainForm.config_value_farm_database_dbAlias_dbInstance.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_database_dbAlias_dbPort.$invalid }" uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                            <label class="control-label col-md-3">Database Server Port:</label>
                            <div class="col-md-9">
                                <input type="number" ng-model="config.value.farm.database.dbAlias.dbPort" name="config_value_farm_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                <div ng-messages="farmMainForm.config_value_farm_database_dbAlias_dbPort.$error" class="text-danger">
                                    <div ng-message="min">The port should be between 1 - 65535.</div>
                                    <div ng-message="max">The port should be between 1 - 65535.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_database_dbPrefix.$invalid }" uib-tooltip="The DBPrefix is perpended to all database names. e.g. If you set this to TEST, your config DB will be TEST_Config. If you set the prefix to localhost, script will perpend each database with the name of the server on which the script is run. Leave this blank for no prefix. NOTE: If you are installing a multi-server farm, it is recommended that you do not use localhost as services provisioned on different servers will have different prefixes.">
                        <label class="control-label col-md-3">Database Prefix:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.farm.database.dbPrefix" name="config_value_farm_database_dbPrefix" class="form-control" />
                            <div ng-messages="farmMainForm.config_value_farm_database_dbPrefix.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_database_configDB.$invalid }" uib-tooltip="The name of the Farm Configuration Database. The Database Prefix will be perpended to this name.">
                        <label class="control-label col-md-3">Config Database Name:</label>
                        <div class="col-md-9">
                            <div class="input-group input-group-sm">
                                <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                <input type="text" ng-model="config.value.farm.database.configDB" name="config_value_farm_database_configDB" class="form-control" required />
                            </div>
                            <div ng-messages="farmMainForm.config_value_farm_database_configDB.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Central Administration</legend>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_centralAdmin_provision.$invalid }" uib-tooltip="Which server(s) to provision Central Admin on.">
                        <label class="control-label col-md-3">Central Administration:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.centralAdmin.provision" name="config_value_farm_centralAdmin_provision" required />
                            <ng-provision ng-model="config.value.farm.centralAdmin.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="farmMainForm.config_value_farm_centralAdmin_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.farm.centralAdmin.provision !== 'false' && config.value.farm.centralAdmin.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_centralAdmin_database.$invalid }"
                             uib-tooltip="The name of the Farm Configuration Database. The Database Prefix will be perpended to this name.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.farm.centralAdmin.database" name="config_value_farm_centralAdmin_database"
                                           class="form-control" ng-required="config.value.farm.centralAdmin.provision" />
                                </div>
                                <div ng-messages="farmMainForm.config_value_farm_centralAdmin_database.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_centralAdmin_port.$invalid }"
                             uib-tooltip="The port which Central Admin will run under.">
                            <label class="control-label col-md-3">Port:</label>
                            <div class="col-md-9">
                                <input type="number" ng-model="config.value.farm.centralAdmin.port" name="config_value_farm_centralAdmin_port" class="form-control" integer string-to-number min="1" max="65535" ng-required="config.value.farm.centralAdmin.provision" />
                                <div ng-messages="farmMainForm.config_value_farm_centralAdmin_port.$error" class="text-danger">
                                    <div ng-message="min">The port should be between 1 - 65535.</div>
                                    <div ng-message="max">The port should be between 1 - 65535.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable SSL on Central Admin. The script will generate a certificate for the servers hostname.">
                            <label class="control-label col-md-3">Use SSL:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.farm.centralAdmin.useSSL" />
                            </div>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Object Cache Accounts</legend>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_objectCacheAccounts_superUser.$invalid }"
                         uib-tooltip="The object cache accounts are user accounts that are given FullControl and FullRead privileges on WebApplications so items can be cached by ASP.Net to improve performance. These accounts should not have any special Active Directory privileges other than Domain User membership. These must be 2 different/separate accounts.">
                        <label class="control-label col-md-3">Super User:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.farm.objectCacheAccounts.superUser" name="config_value_farm_objectCacheAccounts_superUser"
                                   required class="form-control" placeholder="CONTOSO\SP_CacheSuperUser" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                            <div ng-messages="farmMainForm.config_value_farm_objectCacheAccounts_superUser.$error" class="text-danger">
                                <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmMainForm.config_value_farm_objectCacheAccounts_superReader.$invalid }"
                         uib-tooltip="The object cache accounts are user accounts that are given FullControl and FullRead privileges on WebApplications so items can be cached by ASP.Net to improve performance. These accounts should not have any special Active Directory privileges other than Domain User membership. These must be 2 different/separate accounts.">
                        <label class="control-label col-md-3">Super Reader:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.farm.objectCacheAccounts.superReader" name="config_value_farm_objectCacheAccounts_superReader"
                                   required class="form-control" placeholder="CONTOSO\SP_CacheSuperReader" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                            <div ng-messages="farmMainForm.config_value_farm_objectCacheAccounts_superReader.$error" class="text-danger">
                                <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Managed Accounts</legend>

                    <input type="hidden" ng-model="managedAccountsChecks" name="managedAccountsChecks" ensure-expression="{required : validateManagedAccounts()}" ensure-watch-deep="config.value.farm.managedAccounts.managedAccount" />
                    <div ng-messages="farmMainForm.managedAccountsChecks.$error" class="text-danger">
                        <div ng-message="required">
                            <i class="fa fa-exclamation-triangle text-danger"></i>There must be one Managed Account with the Common Name spservice
                            <br />If Search is being Provisioned, there must be a Managed Account with the Common Name SearchService
                        </div>
                        <div ng-messages-include="error-messages"></div>
                    </div>

                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th uib-tooltip="The Managed Account Username in the format of DOMAIN\Account.">Username:</th>
                                <th uib-tooltip="The Managed Account Password. Must be complex!">Password:</th>
                                <th uib-tooltip="The CommonName values should remain unchanged for these first 4 accounts; you can add additional managed accounts, but the script expects certain static values for the CommonName of these 4 managed accounts. If you are creating additional web applications, use a new account for each web application with a new common name, unless you are creating a large number of web applications, in which case the additional memory consumption this requires outweighs the security benefits.">Common Name:</th>
                                <th>Action:</th>
                            </tr>
                        </thead>
                        <tr ng-repeat="managedAccount in config.value.farm.managedAccounts.managedAccount" ng-init="subForm = 'ManagedAccount' + $index" ng-form="{{subForm}}">
                            <td ng-class="{ 'has-error': this[subForm].managedAccount_username.$invalid }">
                                <input type="text" ng-model="managedAccount.username" name="managedAccount_username" required class="form-control input-sm" placeholder="CONTOSO\Account" uib-tooltip="The Managed Account Username in the format of DOMAIN\Account." ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                                <div ng-messages="this[subForm].managedAccount_username.$error" class="text-danger">
                                    <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </td>
                            <td ng-class="{ 'has-error': this[subForm].managedAccount_password.$invalid }">
                                <input type="text" ng-model="managedAccount.password" name="managedAccount_password" uib-tooltip="The Managed Account Password." class="form-control input-sm" />
                            </td>
                            <td ng-class="{ 'has-error': this[subForm].managedAccount_commonName.$invalid }">
                                <input type="text" ng-model="managedAccount.commonName" name="managedAccount_commonName" required class="form-control input-sm" ng-disabled="managedAccount.commonName.toLowerCase() === 'spservice'" uib-tooltip="The CommonName values should remain unchanged for these first 4 accounts; you can add additional managed accounts, but the script expects certain static values for the CommonName of these 4 managed accounts. If you are creating additional web applications, use a new account for each web application with a new common name, unless you are creating a large number of web applications, in which case the additional memory consumption this requires outweighs the security benefits." />
                                <div ng-messages="this[subForm].managedAccount_commonName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </td>
                            <td>
                                <button type="button" ng-click="removeManagedAccount($index)" ng-disabled="managedAccount.commonName.toLowerCase() === 'spservice'" class="btn btn-danger btn-xs">Delete</button>
                            </td>
                        </tr>
                    </table>
                    <button type="button" ng-click="addManagedAccount()" class="btn btn-success btn-sm">Add Managed Account</button>
                </fieldset>
            </ng-form>
            <!--Farm-->
            <ng-form ng-show="view === 'FarmServices'" name="farmServicesForm">
                <span class="h2">Farm Services</span>
                <h4>Configure the Farm Services</h4>
                <hr />
                <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_foundationWebApplication_start.$invalid }"
                        uib-tooltip="Which server(s) to provision Web Application Service on.">
                    <label class="control-label col-md-3">Web Application Service:</label>
                    <div class="col-md-9">
                        <input type="hidden" ng-model="config.value.farm.services.foundationWebApplication.start" name="config_value_farm_services_foundationWebApplication_start" required />
                        <ng-provision ng-model="config.value.farm.services.foundationWebApplication.start" servers="serversArray"></ng-provision>
                        <div ng-messages="farmServicesForm.config_value_farm_services_foundationWebApplication_start.$error" class="text-danger">
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_workflowTimer_start.$invalid }"
                        uib-tooltip="Which server(s) to provision Workflow Timer Service on.">
                    <label class="control-label col-md-3">Workflow Timer Service:</label>
                    <div class="col-md-9">
                        <input type="hidden" ng-model="config.value.farm.services.workflowTimer.start" name="config_value_farm_services_workflowTimer_start" required />
                        <ng-provision ng-model="config.value.farm.services.workflowTimer.start" servers="serversArray"></ng-provision>
                        <div ng-messages="farmServicesForm.config_value_farm_services_workflowTimer_start.$error" class="text-danger">
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </div>
                </div>
                <div ng-if="config.value.install.spVersion !== '2010'">
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_distributedCache_start.$invalid }"
                            uib-tooltip="Which server(s) to provision Distributed Cache Service on.">
                        <label class="control-label col-md-3">Distributed Cache Service:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.services.distributedCache.start" name="config_value_farm_services_distributedCache_start" required />
                            <ng-provision ng-model="config.value.farm.services.distributedCache.start" servers="serversArray"></ng-provision>
                            <div ng-messages="farmServicesForm.config_value_farm_services_distributedCache_start.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_claimsToWindowsTokenService_start.$invalid }"
                        uib-tooltip="Which server(s) to provision Claims To Windows Service on.">
                    <label class="control-label col-md-3">Claims To Windows Service:</label>
                    <div class="col-md-9">
                        <input type="hidden" ng-model="config.value.farm.services.claimsToWindowsTokenService.start" name="config_value_farm_services_claimsToWindowsTokenService_start" required />
                        <ng-provision ng-model="config.value.farm.services.claimsToWindowsTokenService.start" servers="serversArray"></ng-provision>
                        <div ng-messages="farmServicesForm.config_value_farm_services_claimsToWindowsTokenService_start.$error" class="text-danger">
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </div>
                </div>
                <div ng-if="config.value.farm.services.claimsToWindowsTokenService.start !== 'false' && config.value.farm.services.claimsToWindowsTokenService.start !== ''">
                    <div class="form-group form-group-sm" uib-tooltip="If enabled, the Claims To Windows Token Service (C2WTS) will run under an account other than the default Local System (the general spservice account), and thus avoid a Health Analyzer warning. However it will break things like PowerPivot and Excel Services so best bet is to leave it disabled.">
                        <label class="control-label col-md-3">Update Claims To Windows Service Account:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.farm.services.claimsToWindowsTokenService.updateAccount" />
                        </div>
                    </div>
                </div>
                <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_sandboxedCodeService_start.$invalid }"
                        uib-tooltip="Which server(s) to provision Claims To Sandbox Code Service on.">
                    <label class="control-label col-md-3">Sandbox Code Service:</label>
                    <div class="col-md-9">
                        <input type="hidden" ng-model="config.value.farm.services.sandboxedCodeService.start" name="config_value_farm_services_sandboxedCodeService_start" required />
                        <ng-provision ng-model="config.value.farm.services.sandboxedCodeService.start" servers="serversArray"></ng-provision>
                        <div ng-messages="farmServicesForm.config_value_farm_services_sandboxedCodeService_start.$error" class="text-danger">
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </div>
                </div>
                <fieldset>
                    <legend>Email</legend>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_smtp_install.$invalid }"
                         uib-tooltip="Which server(s) to provision SMTP Server Windows Feature on.">
                        <label class="control-label col-md-3">SMTP Windows Service:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.services.smtp.install" name="config_value_farm_services_smtp_install" required />
                            <ng-provision ng-model="config.value.farm.services.smtp.install" servers="serversArray"></ng-provision>
                            <div ng-messages="farmServicesForm.config_value_farm_services_smtp_install.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_incomingEmail_start.$invalid }"
                            uib-tooltip="Which server(s) to provision Incoming Email Service on.">
                        <label class="control-label col-md-3">Incoming Email Service:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.services.incomingEmail.start" name="config_value_farm_services_incomingEmail_start" required />
                            <ng-provision ng-model="config.value.farm.services.incomingEmail.start" servers="serversArray"></ng-provision>
                            <div ng-messages="farmServicesForm.config_value_farm_services_incomingEmail_start.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to configure the outgoing SMTP settings below on the Farm.">
                        <label class="control-label col-md-3">Enable Outgoing Email:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.farm.services.outgoingEmail.configure" />
                        </div>
                    </div>
                    <div ng-if="config.value.farm.services.outgoingEmail.configure">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_outgoingEmail_smtpServer.$invalid }"
                             uib-tooltip="The SMTP Server which SharePoint will send Outgoing Email to.">
                            <label class="control-label col-md-3">SMTP Server:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.farm.services.outgoingEmail.smtpServer" name="config_value_farm_services_outgoingEmail_smtpServer"
                                       class="form-control" ng-required="config.value.farm.services.outgoingEmail.configure" placeholder="SMTP Server Hostname" />
                                <div ng-messages="farmServicesForm.config_value_farm_services_outgoingEmail_smtpServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_outgoingEmail_emailAddress.$invalid }"
                             uib-tooltip="The From Address which will appear in the emails.">
                            <label class="control-label col-md-3">From Address:</label>
                            <div class="col-md-9">
                                <input type="email" ng-model="config.value.farm.services.outgoingEmail.emailAddress" name="config_value_farm_services_outgoingEmail_emailAddress"
                                       class="form-control" ng-required="config.value.farm.services.outgoingEmail.configure" placeholder="email@domain.com" />
                                <div ng-messages="farmServicesForm.config_value_farm_services_outgoingEmail_emailAddress.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': farmServicesForm.config_value_farm_services_outgoingEmail_replyToEmail.$invalid }"
                             uib-tooltip="The Reply To Address.">
                            <label class="control-label col-md-3">Reply to Address:</label>
                            <div class="col-md-9">
                                <input type="email" ng-model="config.value.farm.services.outgoingEmail.replyToEmail" name="config_value_farm_services_outgoingEmail_replyToEmail"
                                       class="form-control" placeholder="email@domain.com" />
                                <div ng-messages="farmServicesForm.config_value_farm_services_outgoingEmail_replyToEmail.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </ng-form>
            <!--Service-->
            <ng-form ng-show="view === 'FarmMinRoles'" name="FarmMinRolesForm">
                <div ng-if="config.value.install.spVersion === '2016' || config.value.install.spVersion === '2019'">
                    <span class="h2">MinRoles</span>
                    <h4>Configure the MinRoles</h4>
                    <hr />
                    <h5>
                        More info on <a href="https://technet.microsoft.com/EN-US/library/mt346114%28v=office.16%29.aspx" target="_blank">MinRoles</a>
                    </h5>
                    <input type="hidden" name="minroleValidator" ng-model="minroleValidator" ensure-expression="{minrole: validateminroles()}" ensure-watch-deep="config.value.farm.serverRoles" />
                    <div ng-messages="FarmMinRolesForm.minroleValidator.$error" class="text-danger">
                        <div ng-message="minrole">Each server must be assigned only one role!</div>
                        <div ng-messages-include="error-messages"></div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': FarmMinRolesForm.config_value_farm_serverRoles_webFrontEnd_provision.$invalid }" uib-tooltip="Service applications, services, and components that serve user requests belong on Front-end web servers. These servers are optimized for low latency.">
                        <label class="control-label col-md-3">Front-end:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.serverRoles.webFrontEnd.provision" name="config_value_farm_serverRoles_webFrontEnd_provision" required />
                            <ng-provision ng-model="config.value.farm.serverRoles.webFrontEnd.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="FarmMinRolesForm.config_value_farm_serverRoles_webFrontEnd_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': FarmMinRolesForm.config_value_farm_serverRoles_webFrontEndWithDistributedCache_provision.$invalid }" uib-tooltip="Service applications, services, and components that serve user requests belong on Front-end web servers. These servers are optimized for low latency.">
                        <label class="control-label col-md-3">Front-end With Distributed Cache:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.serverRoles.webFrontEndWithDistributedCache.provision" name="config_value_farm_serverRoles_webFrontEnd_provision" required />
                            <ng-provision ng-model="config.value.farm.serverRoles.webFrontEndWithDistributedCache.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="FarmMinRolesForm.config_value_farm_serverRoles_webFrontEndWithDistributedCache_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': FarmMinRolesForm.config_value_farm_serverRoles_application_provision.$invalid }" uib-tooltip="Service applications, services, and components that serve backend requests (such as background jobs or search crawl requests) belong on Application servers. These servers are optimized for high throughput.">
                        <label class="control-label col-md-3">Application:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.serverRoles.application.provision" name="config_value_farm_serverRoles_application_provision" required />
                            <ng-provision ng-model="config.value.farm.serverRoles.application.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="FarmMinRolesForm.config_value_farm_serverRoles_application_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': FarmMinRolesForm.config_value_farm_serverRoles_applicationWithSearch_provision.$invalid }" uib-tooltip="Service applications, services, and components that serve backend requests (such as background jobs or search crawl requests) belong on Application servers. These servers are optimized for high throughput.">
                        <label class="control-label col-md-3">Application with Search:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.serverRoles.applicationWithSearch.provision" name="config_value_farm_serverRoles_application_provision" required />
                            <ng-provision ng-model="config.value.farm.serverRoles.applicationWithSearch.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="FarmMinRolesForm.config_value_farm_serverRoles_applicationWithSearch_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': FarmMinRolesForm.config_value_farm_serverRoles_distributedCache_provision.$invalid }" uib-tooltip="Service applications, services, and components that are required for a distributed cache belong on Distributed Cache servers.">
                        <label class="control-label col-md-3">Distributed cache:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.serverRoles.distributedCache.provision" name="config_value_farm_serverRoles_distributedCache_provision" required />
                            <ng-provision ng-model="config.value.farm.serverRoles.distributedCache.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="FarmMinRolesForm.config_value_farm_serverRoles_distributedCache_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': FarmMinRolesForm.config_value_farm_serverRoles_search_provision.$invalid }" uib-tooltip="Service applications, services, and components that are required for searching belong on Search servers.">
                        <label class="control-label col-md-3">Search:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.serverRoles.search.provision" name="config_value_farm_serverRoles_search_provision" required />
                            <ng-provision ng-model="config.value.farm.serverRoles.search.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="FarmMinRolesForm.config_value_farm_serverRoles_search_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': FarmMinRolesForm.config_value_farm_serverRoles_custom_provision.$invalid }" uib-tooltip="Custom service applications, services, and components that do not integrate with MinRole belong on Custom servers. The farm administrator has full control over which service instances can run on servers assigned to the Custom role. MinRole does not control which service instances are provisioned on this role.">
                        <label class="control-label col-md-3">Custom:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.farm.serverRoles.custom.provision" name="config_value_farm_serverRoles_custom_provision" required />
                            <ng-provision ng-model="config.value.farm.serverRoles.custom.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="FarmMinRolesForm.config_value_farm_serverRoles_custom_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-hide="serversArray.length > 1">
                        <fieldset>
                            <legend>Dev & Test</legend>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': FarmMinRolesForm.config_value_farm_serverRoles_singleServerFarm_provision.$invalid }" uib-tooltip="Service applications, services, and components required for a single machine farm belong on a Single-Server Farm. A Single-Server Farm is meant for development, testing, and very limited production use. A SharePoint farm with the Single-Server Farm role cannot have more than one SharePoint server in the farm.">
                                <label class="control-label col-md-3">Single-server Farm:</label>
                                <div class="col-md-9">
                                    <input type="hidden" ng-model="config.value.farm.serverRoles.singleServerFarm.provision" name="config_value_farm_serverRoles_singleServerFarm_provision" required />
                                    <ng-provision ng-model="config.value.farm.serverRoles.singleServerFarm.provision" servers="serversArray"></ng-provision>
                                    <div ng-messages="FarmMinRolesForm.config_value_farm_serverRoles_singleServerFarm_provision.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </ng-form>
            <!--Min Roles-->
            <ng-form ng-show="view === 'FarmLogging'" name="farmLoggingForm">
                <span class="h2">Farm Logging</span>
                <h4>Configure the Farm Logging</h4>
                <hr />
                <fieldset>
                    <legend>IIS Logs</legend>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to Compress the Log Folder.">
                        <label class="control-label col-md-3">Compress:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.farm.logging.iisLogs.compress" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmLoggingForm.config_value_farm_logging_iisLogs_path.$invalid }"
                         uib-tooltip="The default Log Location is $Env:SystemDrive\Inetpub\logs\LogFiles. Enter another path (e.g. D:\IISLogs) or leave Log Location empty to use the default.">
                        <label class="control-label col-md-3">Log Location:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.farm.logging.iisLogs.path" name="config_value_farm_logging_iisLogs_path" class="form-control"
                                   placeholder="C:\Inetpub\logs\LogFiles" />
                            <div ng-messages="farmLoggingForm.config_value_farm_logging_iisLogs_path.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>ULS Logs (SharePoint)</legend>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to Compress the Log Folder.">
                        <label class="control-label col-md-3">Compress:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.farm.logging.ulsLogs.compress" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmLoggingForm.config_value_farm_logging_ulsLogs_logLocation.$invalid }"
                         uib-tooltip="The default Log Location is $Env:SystemDrive\Inetpub\logs\LogFiles. Enter another path (e.g. D:\IISLogs) or leave Log Location empty to use the default.">
                        <label class="control-label col-md-3">Log Location:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.farm.logging.ulsLogs.logLocation" name="config_value_farm_logging_ulsLogs_logLocation" class="form-control" placeholder="C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\{SharePoint Build]\LOGS" />
                            <div ng-messages="farmLoggingForm.config_value_farm_logging_ulsLogs_logLocation.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmLoggingForm.config_value_farm_logging_ulsLogs_logDiskSpaceUsageGB.$invalid }"
                         uib-tooltip="Log Disk Usage specifies the maximum amount of disk space (GB) to use. If you specify a value here, LogMaxDiskSpaceUsageEnabled will automatically be enabled. Leave empty to have no space restriction (dangerous!).">
                        <label class="control-label col-md-3">Log Disk Usage:</label>
                        <div class="col-md-9">
                            <input type="number" ng-model="config.value.farm.logging.ulsLogs.logDiskSpaceUsageGB" name="config_value_farm_logging_ulsLogs_logDiskSpaceUsageGB" integer string-to-number min="1" max="1000" placeholder="1,000 GB" class="form-control" />
                            <div ng-messages="farmLoggingForm.config_value_farm_logging_ulsLogs_logDiskSpaceUsageGB.$error" class="text-danger">
                                <div ng-message="min">The size should be between 1 - 1000.</div>
                                <div ng-message="max">The size should be between 1 - 1000.</div>
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmLoggingForm.config_value_farm_logging_ulsLogs_daysToKeepLogs.$invalid }"
                         uib-tooltip="Days To Keep specifies the time, in days, to retain diagnostic log files. Leave empty to use the default (14 days, max 1024).">
                        <label class="control-label col-md-3">Days to Keep:</label>
                        <div class="col-md-9">
                            <input type="number" ng-model="config.value.farm.logging.ulsLogs.daysToKeepLogs" name="config_value_farm_logging_ulsLogs_daysToKeepLogs" integer string-to-number min="1" max="1024" placeholder="14 days" class="form-control" />
                            <div ng-messages="farmLoggingForm.config_value_farm_logging_ulsLogs_daysToKeepLogs.$error" class="text-danger">
                                <div ng-message="min">The value should be between 1 - 1024.</div>
                                <div ng-message="max">The value should be between 1 - 1024.</div>
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmLoggingForm.config_value_farm_logging_ulsLogs_logCutInterval.$invalid }"
                         uib-tooltip="Log Cut Interval specifies the time, in minutes, before a new log file is generated. Leave empty to use the default (30 minutes, max 1440).">
                        <label class="control-label col-md-3">Log Cut Interval:</label>
                        <div class="col-md-9">
                            <input type="number" ng-model="config.value.farm.logging.ulsLogs.logCutInterval" name="config_value_farm_logging_ulsLogs_logCutInterval" integer string-to-number min="1" max="1440" placeholder="30 minutes" class="form-control" />
                            <div ng-messages="farmLoggingForm.config_value_farm_logging_ulsLogs_logCutInterval.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Usage Logs</legend>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to Compress the Log Folder.">
                        <label class="control-label col-md-3">Compress:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.farm.logging.usageLogs.compress" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmLoggingForm.config_value_farm_logging_usageLogs_usageLogDir.$invalid }"
                         uib-tooltip="The default Log Location is C:\Program files\Common Files\Microsoft Shared\Web Server Extensions\{SharePoint Build]\LOGS. Enter another path (e.g. D:\UsageLogs) or leave Log Location empty to use the default.">
                        <label class="control-label col-md-3">Log Location:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.farm.logging.usageLogs.usageLogDir" name="config_value_farm_logging_usageLogs_usageLogDir"
                                   class="form-control" placeholder="C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\{SharePoint Build]\LOGS" />
                            <div ng-messages="farmLoggingForm.config_value_farm_logging_usageLogs_usageLogDir.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmLoggingForm.config_value_farm_logging_usageLogs_usageLogMaxSpaceGB.$invalid }"
                         uib-tooltip="Log Disk Usage specifies the maximum amount of disk space (GB) to use and must be between 1 and 20 GB. Leave empty to use the default (5 GB).">
                        <label class="control-label col-md-3">Log Disk Usage:</label>
                        <div class="col-md-9">
                            <input type="number" ng-model="config.value.farm.logging.usageLogs.usageLogMaxSpaceGB" name="config_value_farm_logging_usageLogs_usageLogMaxSpaceGB" integer string-to-number min="1" max="20" placeholder="5 GB" class="form-control" />
                            <div ng-messages="farmLoggingForm.config_value_farm_logging_usageLogs_usageLogMaxSpaceGB.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': farmLoggingForm.config_value_farm_logging_usageLogs_usageLogCutTime.$invalid }"
                         uib-tooltip="Log Cut Time specifies the time, in minutes, of usage data collected per usage log file (acceptable values are between 1 and 1440, default 5). Leave empty to use the default of 5.">
                        <label class="control-label col-md-3">Log Cut Interval:</label>
                        <div class="col-md-9">
                            <input type="number" ng-model="config.value.farm.logging.usageLogs.usageLogCutTime" name="config_value_farm_logging_usageLogs_usageLogCutTime" integer string-to-number min="1" max="1440" placeholder="5 minutes" class="form-control" />
                            <div ng-messages="farmLoggingForm.config_value_farm_logging_usageLogs_usageLogCutTime.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </ng-form>
            <!--Logging-->
            <ng-form name="WebApps">
                <input type="hidden" ng-model="webAppCountCheck" name="webAppCountCheck" ensure-expression="{required : config.value.webApplications.webApplication.length !== 0}" ensure-watch-collection="config.value.webApplications.webApplication" />
            </ng-form>
            <div ng-repeat="wa in config.value.webApplications.webApplication" ng-init="subForm = 'formWebApp' + $index">
                <ng-form ng-show="view === 'WebApp' + $index" name="{{subForm}}">
                    <span class="h2">{{wa.name}} Web Application</span>
                    <h4>Configure the {{wa.name}} Web Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" uib-tooltip="The Add URLs To HOSTS flag will add all Alternate Access Mappings to the local server's HOSTS file and is useful if you are (for example): Creating web apps whose URLs are not defined in DNS yet, a test farm, or if you are creating a DR farm, etc. Please Note, this setting applies to all Web Apps.">
                        <label class="control-label col-md-3">Add URL to Hosts File:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.webApplications.addURLsToHOSTS" />
                        </div>
                    </div>
                    <input type="button" class="btn btn-danger" ng-click="removeWebApp($index)" value="Delete this Web Application" />
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm].webApp_name.$invalid }" uib-tooltip="The Name of the Web Application.">
                        <label class="control-label col-md-3">Name:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="wa.name" name="webApp_name" required class="form-control" />
                            <div ng-messages="this[subForm].webApp_name.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{ 'has-error': this[subForm].webApp_type.$invalid }" uib-tooltip="The Application Pool Account">
                        <label class="control-label col-md-3" uib-tooltip="">Application Pool Account:</label>
                        <div class="col-md-9">
                            <select ng-model="wa.type" name="webApp_type" ng-options="item.commonName as (item.commonName + ' - ' + item.username) for item in config.value.farm.managedAccounts.managedAccount" ensure-expression="{required : validateWebAppType(wa.type)}" ensure-watch-deep="config.value.farm.managedAccounts.managedAccount" class="form-control"></select>
                            <div ng-messages="this[subForm].webApp_type.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm].webApp_applicationPool.$invalid }" uib-tooltip="The Application Pool Name. This can be reused across multiple Web Applications.">
                        <label class="control-label col-md-3">Application Pool Name:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="wa.applicationPool" name="webApp_applicationPool" required class="form-control" />
                            <div ng-messages="this[subForm].webApp_applicationPool.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm].webApp_url.$invalid }" uib-tooltip="The Web Application Host Header. All SiteCollection URLs must begin with this url unless they are Host Named Site Collections. Do not include the port number, but do set http/https correctly.">
                        <label class="control-label col-md-3">Url:</label>
                        <div class="col-md-9">
                            <input type="url" ng-model="wa.url" name="webApp_url" required class="form-control" />
                            <div ng-messages="this[subForm].webApp_url.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm].webApp_port.$invalid }" uib-tooltip="The Port on which the Web Application runs on. Set to 443 if you require SSL. Must be between 1 - 65535">
                        <label class="control-label col-md-3">Port:</label>
                        <div class="col-md-9">
                            <input type="number" ng-model="wa.port" name="webApp_port" required integer string-to-number min="1" max="65535" class="form-control" />
                            <div ng-messages="this[subForm].webApp_port.$error" class="text-danger">
                                <div ng-message="min">The port should be between 1 - 65535.</div>
                                <div ng-message="max">The port should be between 1 - 65535.</div>
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="If enabled the Web Application Url will be placed in the IIS Binding. Do not enable if you will be creating Host Named Site Collections. Please Note: Only a single Web Application can have this diabled per port!">
                        <label class="control-label col-md-3">Use Host Header:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="wa.useHostHeader" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="If enabled, the suffix portion of the web application URL (e.g. *.contoso.com) will be added to Internet Explorer's Local Intranet security zone so you don't get prompted for credentials when browsing the web app URL.">
                        <label class="control-label col-md-3">Add URL to Local Intranet Zone:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="wa.addURLToLocalIntranetZone" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to grant the current user (i.e. the setup account) Full Control to the entire web app via the web application's policy.">
                        <label class="control-label col-md-3">Grant Setup User Full Control:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="wa.grantCurrentUserFullControl" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Enables claims based authentication. Enable this option when using SharePoint 2013/2016/2019 as Classic Authentication is obsolete.">
                        <label class="control-label col-md-3">Use Claims Authentication:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="wa.useClaims" />
                        </div>
                    </div>
                    <div ng-show="!wa.useClaims">
                        <div class="form-group form-group-sm" uib-tooltip="Disabled = only accept Kerberos/NTLM claims, Enabled = also accept Basic authentication claims. Has no effect if useClaims is false.">
                            <label class="control-label col-md-3">Use Basic Authentication:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="wa.useBasicAuthentication" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to use the Online Webpart Gallery on the Web Application.">
                        <label class="control-label col-md-3">Use Online WebPart Catalog:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="wa.useOnlineWebPartCatalog" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm].wa_database_name.$invalid }" uib-tooltip="The name of the first content database for this web application.">
                        <label class="control-label col-md-3">Content Database Name:</label>
                        <div class="col-md-9">
                            <div class="input-group input-group-sm">
                                <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                <input type="text" ng-model="wa.database.name" name="wa_database_name" required class="form-control" />
                            </div>
                            <div ng-messages="this[subForm].wa_database_name.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                        <label class="control-label col-md-3">Create Alias:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="wa.database.dbAlias.create" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm].wa_database_dbServer.$invalid }" uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                        <div ng-show="wa.database.dbAlias.create === false">
                            <label class="control-label col-md-3">Database Server:</label>
                        </div>
                        <div ng-show="wa.database.dbAlias.create">
                            <label class="control-label col-md-3">Alias Name:</label>
                        </div>
                        <div class="col-md-9">
                            <input type="text" ng-model="wa.database.dbServer" name="wa_database_dbServer" ng-required="wa.database.dbAlias.create"
                                   class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                            <div ng-messages="this[subForm].wa_database_dbServer.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="wa.database.dbAlias.create">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm].wa_database_dbAlias_dbInstance.$invalid }"
                             uib-tooltip="The Database Server. Name\Instance.">
                            <label class="control-label col-md-3">Database Server Instance:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="wa.database.dbAlias.dbInstance" name="wa_database_dbAlias_dbInstance" class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                <div ng-messages="this[subForm].wa_database_dbAlias_dbInstance.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm].wa_database_dbAlias_dbPort.$invalid }" uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                            <label class="control-label col-md-3">Database Server Port:</label>
                            <div class="col-md-9">
                                <input type="number" ng-model="wa.database.dbAlias.dbPort" name="wa_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                <div ng-messages="this[subForm].wa_database_dbAlias_dbPort.$error" class="text-danger">
                                    <div ng-message="min">The port should be between 1 - 65535.</div>
                                    <div ng-message="max">The port should be between 1 - 65535.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <fieldset>
                        <legend>Managed Paths</legend>
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th uib-tooltip="The URL of the Managed Path. Please note that the default Managed Paths / (root) and /sites are created by default and don't need to be added here.">Url:</th>
                                    <th uib-tooltip="Select which type of Managed Path to create. Explicit means that you will only be able to create one Site Collection at the root of the path. When disabled, a wildcard Managed Path will be created, in which multiple Site Collections can be created under this path.">Type:</th>
                                    <th>Action:</th>
                                </tr>
                            </thead>
                            <tr ng-repeat="managedPath in wa.managedPaths.managedPath" ng-init="subForm = 'ManagedPath' + $index" ng-form="{{subForm}}">
                                <td ng-class="{ 'has-error': this[subForm].managedPath_relativeUrl.$invalid }">
                                    <input type="text" ng-model="managedPath.relativeUrl" name="managedPath_relativeUrl" required class="form-control input-sm" uib-tooltip="The URL of the Managed Path. Please note that the default Managed Paths / (root) and /sites are created by default and don't need to be added here." />
                                    <div ng-messages="this[subForm].managedPath_relativeUrl.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </td>
                                <td>
                                    <div class="checkbox">
                                        <label uib-tooltip="Select which type of Managed Path to create. Explicit means that you will only be able to create one Site Collection at the root of the path. When disabled, a wildcard Managed Path will be created, in which multiple Site Collections can be created under this path.">
                                            <input type="checkbox" ng-model="managedPath.explicit" />Explicit
                                        </label>
                                    </div>
                                </td>
                                <td>
                                    <button type="button" ng-click="removeManagedPath(wa.managedPaths.managedPath, $index)" class="btn btn-danger btn-xs">Delete</button>
                                </td>
                            </tr>
                        </table>
                        <button type="button" ng-click="addManagedPath(wa.managedPaths.managedPath)" class="btn btn-success btn-sm">Add Managed Path</button>
                    </fieldset>
                    <br />
                    <fieldset>
                        <legend>Site Collections</legend>

                        <input type="hidden" ng-model="siteCollCountCheck" name="siteCollCountCheck" ensure-expression="{required : wa.siteCollections.siteCollection.length !== 0}" ensure-watch-collection="wa.siteCollections.siteCollection" />
                        <div ng-messages="this[subForm].siteCollCountCheck.$error" class="text-danger">
                            <div ng-message="required">
                                <i class="fa fa-exclamation-triangle text-danger"></i> There must be at least one Site Collection!
                            </div>
                            <div ng-messages-include="error-messages"></div>
                        </div>

                        <uib-accordion>
                            <uib-accordion-group ng-repeat="siteColl in wa.siteCollections.siteCollection" ng-init="subForm2 = 'fromSiteColl' + $index">
                                <uib-accordion-heading>
                                    <i ng-if="this[subForm2].$invalid" class="fa fa-exclamation-triangle text-danger"></i>Site: {{siteColl.siteUrl}}
                                </uib-accordion-heading>
                                <button type="button" ng-click="removeSiteCollection(wa.siteCollections.siteCollection, $index)" class="btn btn-danger">Delete</button>
                                <ng-form name="{{subForm2}}">
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm2].siteColl_siteUrl.$invalid }" uib-tooltip="The URL of the site collection. Include the port if it is non default for the protocol (80/443). Do not include default ports as this will make the script fail.">
                                        <label class="control-label col-md-3">Site URL:</label>
                                        <div class="col-md-9">
                                            <input type="text" ng-model="siteColl.siteUrl" name="siteColl_siteUrl" class="form-control" required />
                                            <div ng-messages="this[subForm2].siteColl_siteUrl.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" uib-tooltip="Enable to Create Site Collection as a Host Named Site Collection.">
                                        <label class="control-label col-md-3">Host Named Site Collection:</label>
                                        <div class="col-md-9">
                                            <input type="checkbox" ng-model="siteColl.hostNamedSiteCollection" />
                                        </div>
                                    </div>
                                    <div class="form-group" ng-class="{ 'has-error': this[subForm2].siteColl_template.$invalid }" uib-tooltip="The Site Web Template."
                                         ng-if="config.value.install.spVersion === '2010'">
                                        <label class="control-label col-md-3" uib-tooltip="">Web Template:</label>
                                        <div class="col-md-9">
                                            <select ng-model="siteColl.template" name="siteColl_template" ng-options="key as value for (key , value) in webTemplates2010"
                                                    class="form-control" ensure-expression="{required : validateWebTemplate(siteColl.template, webTemplates2010)}">
                                                <option value="">Select Later</option>
                                            </select>
                                            <div ng-messages="this[subForm2].siteColl_template.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" ng-class="{ 'has-error': this[subForm2].siteColl_template.$invalid }" uib-tooltip="The Site Web Template."
                                         ng-if="config.value.install.spVersion === '2013'">
                                        <label class="control-label col-md-3" uib-tooltip="">Web Template:</label>
                                        <div class="col-md-9">
                                            <select ng-model="siteColl.template" name="siteColl_template" ng-options="key as value for (key , value) in webTemplates2013"
                                                    class="form-control" ensure-expression="{required : validateWebTemplate(siteColl.template, webTemplates2013)}">
                                                <option value="">Select Later</option>
                                            </select>
                                            <div ng-messages="this[subForm2].siteColl_template.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" ng-class="{ 'has-error': this[subForm2].siteColl_template.$invalid }" uib-tooltip="The Site Web Template."
                                         ng-if="config.value.install.spVersion === '2016'">
                                        <label class="control-label col-md-3" uib-tooltip="">Web Template:</label>
                                        <div class="col-md-9">
                                            <select ng-model="siteColl.template" name="siteColl_template" ng-options="key as value for (key , value) in webTemplates2016"
                                                    class="form-control" ensure-expression="{required : validateWebTemplate(siteColl.template, webTemplates2016)}">
                                                <option value="">Select Later</option>
                                            </select>
                                            <div ng-messages="this[subForm2].siteColl_template.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" ng-class="{ 'has-error': this[subForm2].siteColl_template.$invalid }" uib-tooltip="The Site Web Template."
                                         ng-if="config.value.install.spVersion === '2019'">
                                        <label class="control-label col-md-3" uib-tooltip="">Web Template:</label>
                                        <div class="col-md-9">
                                            <select ng-model="siteColl.template" name="siteColl_template" ng-options="key as value for (key , value) in webTemplates2019"
                                                    class="form-control" ensure-expression="{required : validateWebTemplate(siteColl.template, webTemplates2019)}">
                                                <option value="">Select Later</option>
                                            </select>
                                            <div ng-messages="this[subForm2].siteColl_template.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm2].siteColl_owner.$invalid }" uib-tooltip="The Site Collection Owner Account. If left blank, it will be the Application Pool Account.">
                                        <label class="control-label col-md-3">Site Owner:</label>
                                        <div class="col-md-9">
                                            <input type="text" ng-model="siteColl.owner" name="siteColl_owner" class="form-control" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                                            <div ng-messages="this[subForm2].siteColl_owner.$error" class="text-danger">
                                                <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm2].siteColl_name.$invalid }" uib-tooltip="The Name/Title of the Site Collection.">
                                        <label class="control-label col-md-3">Site Name:</label>
                                        <div class="col-md-9">
                                            <input type="text" ng-model="siteColl.name" name="siteColl_name" class="form-control" required />
                                            <div ng-messages="this[subForm2].siteColl_name.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm2].siteColl_description.$invalid }" uib-tooltip="The Description of the Site Collection.">
                                        <label class="control-label col-md-3">Site Description:</label>
                                        <div class="col-md-9">
                                            <input type="text" ng-model="siteColl.description" name="siteColl_description" class="form-control" />
                                            <div ng-messages="this[subForm2].siteColl_description.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm2].siteColl_customDatabase.$invalid }" uib-tooltip="The name of a content database in which this site collection should be created. Will be created automatically if it doesn't exist. If left blank (default), the content database for the web application will be used.">
                                        <label class="control-label col-md-3">Content Database Name:</label>
                                        <div class="col-md-9">
                                            <div class="input-group input-group-sm">
                                                <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                                <input type="text" ng-model="siteColl.customDatabase" name="siteColl_customDatabase"
                                                       class="form-control" />
                                            </div>
                                            <div ng-messages="this[subForm2].siteColl_customDatabase.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm2].siteColl_searchUrl.$invalid }" uib-tooltip="The URL of the Search Center which Search Queries will be send to.">
                                        <label class="control-label col-md-3">Search Center URL:</label>
                                        <div class="col-md-9">
                                            <input type="text" ng-model="siteColl.searchUrl" name="siteColl_searchUrl" class="form-control" />
                                            <div ng-messages="this[subForm2].siteColl_searchUrl.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm2].siteColl_lcid.$invalid }" uib-tooltip="The Locale ID of the language pack to use for the site collection. e.g for US English LCID is 1033.">
                                        <label class="control-label col-md-3">Locale ID:</label>
                                        <div class="col-md-9">
                                            <input type="Number" ng-model="siteColl.lcid" name="siteColl_lcid" class="form-control" required integer string-to-number />
                                            <div ng-messages="this[subForm2].siteColl_lcid.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': this[subForm2].siteColl_locale.$invalid }" uib-tooltip="Actual locale of the site for regional settings. e.g. for English Local is en-us. If omitted, the default locale of the LCID is used.">
                                        <label class="control-label col-md-3">Locale:</label>
                                        <div class="col-md-9">
                                            <input type="text" ng-model="siteColl.locale" name="siteColl_locale" class="form-control" />
                                            <div ng-messages="this[subForm2].siteColl_locale.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" uib-tooltip="If enabled, times are displayed using a 24 hour clock. If false, AM/PM is used. If omitted, the default for the LCID is applied.">
                                        <label class="control-label col-md-3">Time in 24h:</label>
                                        <div class="col-md-9">
                                            <input type="checkbox" ng-model="siteColl.time24" />
                                        </div>
                                    </div>
                                </ng-form>
                            </uib-accordion-group>
                        </uib-accordion>
                        <button type="button" ng-click="addSiteCollection(wa.siteCollections.siteCollection, wa.url)" class="btn btn-success btn-sm">Add Site Collection</button>
                    </fieldset>
                </ng-form>
            </div>
            <!--WebApps-->
            <!--Service Apps-->
            <ng-form ng-show="view === 'ServiceAppsMMS'" name="formServiceAppsMMS">
                <div ng-if="config.value.install.sku !== 'Foundation'">
                    <span class="h2">Managed Metadata Service Application</span>
                    <h4>Configure the Managed Metadata Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Managed Metadata Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.managedMetadataServiceApp.provision" name="config_value_serviceApps_managedMetadataServiceApp_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.managedMetadataServiceApp.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.managedMetadataServiceApp.provision !== 'false' && config.value.serviceApps.managedMetadataServiceApp.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.managedMetadataServiceApp.name" name="config_value_serviceApps_managedMetadataServiceApp_name"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.managedMetadataServiceApp.proxyName" name="config_value_serviceApps_managedMetadataServiceApp_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_database_name.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.managedMetadataServiceApp.database.name"
                                           name="config_value_serviceApps_managedMetadataServiceApp_database_name" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_database_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.managedMetadataServiceApp.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.serviceApps.managedMetadataServiceApp.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.serviceApps.managedMetadataServiceApp.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.managedMetadataServiceApp.database.dbServer" name="config_value_serviceApps_managedMetadataServiceApp_database_dbServer"
                                       ng-required="config.value.serviceApps.managedMetadataServiceApp.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.managedMetadataServiceApp.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.managedMetadataServiceApp.database.dbAlias.dbInstance" name="config_value_serviceApps_managedMetadataServiceApp_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.managedMetadataServiceApp.database.dbAlias.dbPort" name="config_value_serviceApps_managedMetadataServiceApp_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formServiceAppsMMS.config_value_serviceApps_managedMetadataServiceApp_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--MMS-->
            <ng-form ng-show="view === 'ServiceAppsUPS'" name="formServiceAppsUPS">
                <div ng-if="config.value.install.sku !== 'Foundation'">
                    <span class="h2">User Profile Service Application</span>
                    <h4>Configure the User Profile Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the User Profile Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.userProfileServiceApp.provision" name="config_value_serviceApps_userProfileServiceApp_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.userProfileServiceApp.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.userProfileServiceApp.provision !== 'false' && config.value.serviceApps.userProfileServiceApp.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.name" name="config_value_serviceApps_userProfileServiceApp_name"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.proxyName" name="config_value_serviceApps_userProfileServiceApp_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_mySiteHostLocation.$invalid }"
                             uib-tooltip="The URL of the WebApplication which will host MySites. Use this when you are not provisioning a WebApplication specifically for MySites. To Provision a WebApplication for Mysites set its Type to MySiteHost. EXAMPLE: If you wanted your MySite host to reside at http://sharepoint.contoso.com/people and personal sites to be created at http://sharepoint.contoso.com/people/sites, you would specify MySiteHostLocation = http://sharepoint.contoso.com/people and MySiteManagedPath=people/sites">
                            <label class="control-label col-md-3">MySite Host Location:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.mySiteHostLocation" name="config_value_serviceApps_userProfileServiceApp_mySiteHostLocation" class="form-control" />
                                <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_mySiteHostLocation.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_mySiteManagedPath.$invalid }"
                             uib-tooltip="The Managed Path which will be used by MySites, personal is the default. You will need to make sure the Web Application contains this Managed Path.">
                            <label class="control-label col-md-3">MySite Managed Path:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.mySiteManagedPath" name="config_value_serviceApps_userProfileServiceApp_mySiteManagedPath" class="form-control" />
                                <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_mySiteManagedPath.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="This should be set to true if the host portion of your DNS Domain name is different than your NetBIOS domain name.">
                            <label class="control-label col-md-3">Enable NetBIOS Domain Names:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.userProfileServiceApp.enableNetBIOSDomainNames" />
                            </div>
                        </div>
                        <div ng-if="config.value.install.spVersion !== '2016' && config.value.install.spVersion !== '2019'">
                            <div class="form-group form-group-sm" uib-tooltip="Enable to star the User Profile Synchronization service. NOTE: If this is set to true in a multi-server farm, the first server that gets the User Profile Service installed on it will also have Profile Sync provisioned on it.">
                                <label class="control-label col-md-3">Start Profile Sync:</label>
                                <div class="col-md-9">
                                    <input type="checkbox" ng-model="config.value.serviceApps.userProfileServiceApp.startProfileSync" />
                                </div>
                            </div>
                            <div class="form-group form-group-sm" uib-tooltip="The script will attempt to create a default Sync connection using the new (although unsupported) Add-SPProfileSyncConnection cmdlet. NOTE: Add-SPProfileSyncConnection may be useful for experimental/non-production builds but as per http://blogs.technet.com/b/steve_chen/archive/2011/07/13/3441315.aspx and http://www.harbar.net/archive/2011/07/12/332.aspx it's UNSUPPORTED in on-premises deployments.">
                                <label class="control-label col-md-3">Create Default Sync Connection:</label>
                                <div class="col-md-9">
                                    <input type="checkbox" ng-model="config.value.serviceApps.userProfileServiceApp.createDefaultSyncConnection" />
                                </div>
                            </div>
                            <div ng-if="config.value.serviceApps.userProfileServiceApp.createDefaultSyncConnection">
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_syncConnectionAccount.$invalid }"
                                     uib-tooltip="The Sync Account Username. In format Domain\Account.">
                                    <label class="control-label col-md-3">Sync Account:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.syncConnectionAccount" name="config_value_serviceApps_userProfileServiceApp_syncConnectionAccount"
                                               ng-required="config.value.serviceApps.userProfileServiceApp.createDefaultSyncConnection" class="form-control" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                                        <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_syncConnectionAccount.$error" class="text-danger">
                                            <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_syncConnectionAccountPassword.$invalid }"
                                     uib-tooltip="The Sync Account Password.">
                                    <label class="control-label col-md-3">Sync Account Password:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.syncConnectionAccountPassword" name="config_value_serviceApps_userProfileServiceApp_syncConnectionAccountPassword"
                                               class="form-control" />
                                        <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_syncConnectionAccountPassword.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_profileDB.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Profile Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.database.profileDB" name="config_value_serviceApps_userProfileServiceApp_database_profileDB" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_profileDB.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_syncDB.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Sync Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.database.syncDB"
                                           name="config_value_serviceApps_userProfileServiceApp_database_syncDB" required class="form-control" />
                                    <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_syncDB.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_socialDB.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Social Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.database.socialDB"
                                           name="config_value_serviceApps_userProfileServiceApp_database_socialDB" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_socialDB.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.userProfileServiceApp.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.serviceApps.userProfileServiceApp.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.serviceApps.userProfileServiceApp.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.database.dbServer" name="config_value_serviceApps_userProfileServiceApp_database_dbServer"
                                       ng-required="config.value.serviceApps.userProfileServiceApp.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.userProfileServiceApp.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.userProfileServiceApp.database.dbAlias.dbInstance" name="config_value_serviceApps_userProfileServiceApp_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.userProfileServiceApp.database.dbAlias.dbPort" name="config_value_serviceApps_userProfileServiceApp_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formServiceAppsUPS.config_value_serviceApps_userProfileServiceApp_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--UPS-->
            <ng-form ng-show="view === 'ServiceAppsUsageandHealth'" name="formServiceAppsUsageandHealth">
                <div ng-if="config.value.install.sku !== 'Foundation'">
                    <span class="h2">Usage and Health Service Application</span>
                    <h4>Configure the Usage and Health Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Usage and Health Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.spUsageService.provision" name="config_value_serviceApps_spUsageService_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.spUsageService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.spUsageService.provision !== 'false' && config.value.serviceApps.spUsageService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.spUsageService.name" name="config_value_serviceApps_spUsageService_name" required class="form-control" />
                                <div ng-messages="formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_database_name.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.spUsageService.database.name"
                                           name="config_value_serviceApps_spUsageService_database_name" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_database_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.spUsageService.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.serviceApps.spUsageService.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.serviceApps.spUsageService.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.spUsageService.database.dbServer" name="config_value_serviceApps_spUsageService_database_dbServer"
                                       ng-required="config.value.serviceApps.spUsageService.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.spUsageService.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.spUsageService.database.dbAlias.dbInstance" name="config_value_serviceApps_spUsageService_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.spUsageService.database.dbAlias.dbPort" name="config_value_serviceApps_spUsageService_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formServiceAppsUsageandHealth.config_value_serviceApps_spUsageService_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Usage and Health-->
            <ng-form ng-show="view === 'ServiceAppsStateService'" name="formServiceAppsStateService">
                <div ng-if="config.value.install.sku !== 'Foundation'">
                    <span class="h2">State Service Application</span>
                    <h4>Configure the State Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsStateService.config_value_serviceApps_stateService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the State Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.stateService.provision" name="config_value_serviceApps_stateService_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.stateService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsStateService.config_value_serviceApps_stateService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.stateService.provision !== 'false' && config.value.serviceApps.stateService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsStateService.config_value_serviceApps_stateService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.stateService.name" name="config_value_serviceApps_stateService_name"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsStateService.config_value_serviceApps_stateService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsStateService.config_value_serviceApps_stateService_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.stateService.proxyName" name="config_value_serviceApps_stateService_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsStateService.config_value_serviceApps_stateService_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsStateService.config_value_serviceApps_stateService_database_name.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.stateService.database.name"
                                           name="config_value_serviceApps_stateService_database_name" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsStateService.config_value_serviceApps_stateService_database_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.stateService.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsStateService.config_value_serviceApps_stateService_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.serviceApps.stateService.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.serviceApps.stateService.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.stateService.database.dbServer" name="config_value_serviceApps_stateService_database_dbServer" ng-required="config.value.serviceApps.stateService.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formServiceAppsStateService.config_value_serviceApps_stateService_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.stateService.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsStateService.config_value_serviceApps_stateService_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.stateService.database.dbAlias.dbInstance" name="config_value_serviceApps_stateService_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formServiceAppsStateService.config_value_serviceApps_stateService_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsStateService.config_value_serviceApps_stateService_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.stateService.database.dbAlias.dbPort" name="config_value_serviceApps_stateService_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formServiceAppsStateService.config_value_serviceApps_stateService_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--State-->
            <ng-form ng-show="view === 'ServiceAppsSearch'" name="formServiceAppsSearch">
                <div ng-if="config.value.install.sku !== 'Foundation'">
                    <span class="h2">Search Service Application</span>
                    <h4>Configure the Search Service Application</h4>
                    <hr />
                    <fieldset>
                        <legend>Search Service Instance</legend>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_provision.$invalid }"
                             uib-tooltip="Which server(s) to provision the Search Service on.">
                            <label class="control-label col-md-3">Provision:</label>
                            <div class="col-md-9">
                                <input type="hidden" ng-model="config.value.serviceApps.enterpriseSearchService.provision" name="config_value_serviceApps_enterpriseSearchService_provision" required />
                                <ng-provision ng-model="config.value.serviceApps.enterpriseSearchService.provision" servers="serversArray"></ng-provision>
                                <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_provision.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.enterpriseSearchService.provision !== 'false' && config.value.serviceApps.enterpriseSearchService.provision !== ''">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_contactEmail.$invalid }"
                                 uib-tooltip="The e-mail address that will help content owners to contact an administrator if crawl errors or performance issues occur. The contact e-mail address is included in the header information that the search system sends during crawl requests.">
                                <label class="control-label col-md-3">Contact Email:</label>
                                <div class="col-md-9">
                                    <input type="email" ng-model="config.value.serviceApps.enterpriseSearchService.contactEmail" name="config_value_serviceApps_enterpriseSearchService_contactEmail"
                                           placeholder="administrator@domain.com" class="form-control" />
                                    <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_contactEmail.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_connectionTimeout.$invalid }"
                                 uib-tooltip="You can specify how long to wait when trying to establish a connection with a Web site or server by adjusting the number of seconds to wait for a connection time-out. By default, the wait time is 20 seconds. When specifying the wait time, consider the following: If a wait time setting is too high (greater than two minutes), Microsoft Office SharePoint Portal Server 2003 spends a significant amount of time waiting while trying to crawl nonexistent sites, bad links, or servers that are unavailable. If the wait time setting is too low (less than 10 seconds), a lot of content is not included in the full-text index because SharePoint Portal Server bypasses the busier servers. If, during full-text index creation, SharePoint Portal Server encounters 32 consecutive time-outs related to one server, SharePoint Portal Server designates the server as unavailable and does not process any requests to that server for the next 10 minutes. SharePoint Portal Server records an access error in the gatherer log. If you are crawling Microsoft Exchange public folders, the wait time must be greater than 10 seconds. The recommended wait time is 60 seconds.">
                                <label class="control-label col-md-3">Connection Timeout:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.enterpriseSearchService.connectionTimeout" name="config_value_serviceApps_enterpriseSearchService_connectionTimeout" integer string-to-number min="0" required placeholder="20" class="form-control" />
                                    <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_connectionTimeout.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_acknowledgementTimeout.$invalid }"
                                 uib-tooltip="You can specify how long to wait for a requested Web page or file by adjusting the number of seconds to wait for request acknowledgment. By default, the wait time is 20 seconds. Specifying a wait time of less than 10 seconds would be low, resulting in fewer documents included in the index. Specifying a wait time of two minutes would be high and could result in longer indexing times.">
                                <label class="control-label col-md-3">Acknowledgment Timeout:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.enterpriseSearchService.acknowledgementTimeout" name="config_value_serviceApps_enterpriseSearchService_acknowledgementTimeout" integer string-to-number min="0" required placeholder="20" class="form-control" />
                                    <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_acknowledgementTimeout.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_proxyType.$invalid }"
                                 uib-tooltip="Specifies whether the search service uses a proxy server or connects directly when crawling content. The default value is Direct, (No proxy server is used).">
                                <label class="control-label col-md-3">Proxy Type:</label>
                                <div class="col-md-9">
                                    <label class="radio-inline">
                                        <input type="radio" ng-model="config.value.serviceApps.enterpriseSearchService.proxyType" name="config_value_serviceApps_enterpriseSearchService_proxyType" value="Default" />Default
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" ng-model="config.value.serviceApps.enterpriseSearchService.proxyType" name="config_value_serviceApps_enterpriseSearchService_proxyType" value="Direct" />Direct
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" ng-model="config.value.serviceApps.enterpriseSearchService.proxyType" name="config_value_serviceApps_enterpriseSearchService_proxyType" value="Proxy" ensure-expression="{required: config.value.serviceApps.enterpriseSearchService.proxyType === 'Default' || config.value.serviceApps.enterpriseSearchService.proxyType === 'Direct'}" />Proxy
                                    </label>
                                    <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_proxyType.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" uib-tooltip="Enable to ignore SSL warnings such as Self Signed Certificates etc.">
                                <label class="control-label col-md-3">Ignore SSL Warnings:</label>
                                <div class="col-md-9">
                                    <input type="checkbox" ng-model="config.value.serviceApps.enterpriseSearchService.ignoreSSLWarnings" />
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_internetIdentity.$invalid }"
                                 uib-tooltip="The User Agent which the Search Service Crawler will use.">
                                <label class="control-label col-md-3">Internet Identity:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.internetIdentity" name="config_value_serviceApps_enterpriseSearchService_internetIdentity"
                                           required class="form-control" />
                                    <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_internetIdentity.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_customIndexLocation.$invalid }"
                                 uib-tooltip="You only need to specify a path here if you would like to specify a non-default path for the search index (e.g. D:\SearchIndex) otherwise the default value will be applied: $env:ProgramFiles\Microsoft Office Servers\$env:spVer.0\Data\Office Server\Applications  (where $env:spVer is either 14 or 15) If you changed the Data Dir in the Install Tab, then you do not need to specify this. The Search index will be placed under that Directory.">
                                <label class="control-label col-md-3">Custom Index Location:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.customIndexLocation" name="config_value_serviceApps_enterpriseSearchService_customIndexLocation"
                                           placeholder="C:\Program Files\Microsoft Office Servers\{SharePoint Build}\Data\Office Server\Applications" class="form-control" />
                                    <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_customIndexLocation.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_performanceLevel.$invalid }"
                                 uib-tooltip="Specifies the relative number of threads for the indexer performance: Reduced: Total number of threads = number of processors, Max Threads/host = number of processors. Partly Reduced: Total number of threads = 4 times the number of processors , Max Threads/host = 16 time the number of processors. Maximum: Total number of threads = number of processors.">
                                <label class="control-label col-md-3">Proxy Type:</label>
                                <div class="col-md-9">
                                    <label class="radio-inline">
                                        <input type="radio" ng-model="config.value.serviceApps.enterpriseSearchService.performanceLevel" name="config_value_serviceApps_enterpriseSearchService_performanceLevel" value="Reduced" />Reduced
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" ng-model="config.value.serviceApps.enterpriseSearchService.performanceLevel" name="config_value_serviceApps_enterpriseSearchService_performanceLevel" value="PartlyReduced" />Partly Reduced
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" ng-model="config.value.serviceApps.enterpriseSearchService.performanceLevel" name="config_value_serviceApps_enterpriseSearchService_performanceLevel" value="Maximum" ensure-expression="{required:config.value.serviceApps.enterpriseSearchService.performanceLevel === 'Reduced' || config.value.serviceApps.enterpriseSearchService.performanceLevel === 'PartlyReduced' || config.value.serviceApps.enterpriseSearchService.performanceLevel === 'Maximum'}" />Maximum
                                    </label>
                                    <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_performanceLevel.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_shareName.$invalid }"
                                 uib-tooltip="The name of the Share Folder which will be used to copy the index between servers.">
                                <label class="control-label col-md-3">Share Name:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.shareName" name="config_value_serviceApps_enterpriseSearchService_shareName"
                                           required class="form-control" />
                                    <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_shareName.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <fieldset>
                                <legend>Search Service Application</legend>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_name.$invalid }"
                                     uib-tooltip="The Service Application Name.">
                                    <label class="control-label col-md-3">Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.name"
                                               name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_name"
                                               required class="form-control" />
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_proxy_name.$invalid }"
                                     uib-tooltip="The Service Application Proxy Name.">
                                    <label class="control-label col-md-3">Proxy Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.proxy.name"
                                               name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_proxy_name"
                                               required class="form-control" />
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_proxy_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_proxy_proxyGroup.$invalid }" uib-tooltip="The Service Application Proxy Group.">
                                    <label class="control-label col-md-3">Proxy Group:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.proxy.proxyGroup" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_proxy_proxyGroup" required class="form-control" />
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_proxy_proxyGroup.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" uib-tooltip="Enable the search service application to use Web-hosted mode. Web-hosted mode segregates results for a given hosted subscription.">
                                    <label class="control-label col-md-3">Proxy Partitioned:</label>
                                    <div class="col-md-9">
                                        <input type="checkbox" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.partitioned" />
                                    </div>
                                </div>
                                <div ng-if="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.partitioned">
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_partitions.$invalid }"
                                         uib-tooltip="The number of partitions to create.">
                                        <label class="control-label col-md-3">Number of Partitions:</label>
                                        <div class="col-md-9">
                                            <input type="number" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.partitions" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_partitions" ng-required="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.partitioned" integer string-to-number class="form-control" />
                                            <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_partitions.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="config.value.install.spVersion === '2010'">
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_searchServiceApplicationType.$invalid }"
                                         uib-tooltip="Specifies the type of Search Service Application, leave this as Regular.">
                                        <label class="control-label col-md-3">Application Type:</label>
                                        <div class="col-md-9">
                                            <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.searchServiceApplicationType"
                                                   name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_searchServiceApplicationType"
                                                   class="form-control" />
                                            <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_searchServiceApplicationType.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_contentAccessAccount.$invalid }"
                                     uib-tooltip="The Service Application Proxy Name.">
                                    <label class="control-label col-md-3">Crawl Account:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.contentAccessAccount"
                                               name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_contentAccessAccount"
                                               required class="form-control" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_contentAccessAccount.$error" class="text-danger">
                                            <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_contentAccessAccountPassword.$invalid }"
                                     uib-tooltip="The Service Application Proxy Name.">
                                    <label class="control-label col-md-3">Crawl Account Password:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.contentAccessAccountPassword"
                                               name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_contentAccessAccountPassword"
                                               class="form-control" />
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_contentAccessAccountPassword.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_searchCenterUrl.$invalid }"
                                     uib-tooltip="This url will be the default Search Center URL for all sites unless overridden on the site.">
                                    <label class="control-label col-md-3">Search Center URL:</label>
                                    <div class="col-md-9">
                                        <input type="url" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.searchCenterUrl"
                                               name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_searchCenterUrl"
                                               class="form-control" />
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_searchCenterUrl.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_name.$invalid }"
                                     uib-tooltip="The name of the Database.">
                                    <label class="control-label col-md-3">Database Name:</label>
                                    <div class="col-md-9">
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                            <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.name"
                                                   name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_name"
                                                   required class="form-control" />
                                        </div>
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                                    <label class="control-label col-md-3">Create Alias:</label>
                                    <div class="col-md-9">
                                        <input type="checkbox" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.dbAlias.create" />
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_dbServer.$invalid }"
                                     uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                                    <div ng-show="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.dbAlias.create === false">
                                        <label class="control-label col-md-3">Database Server:</label>
                                    </div>
                                    <div ng-show="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.dbAlias.create">
                                        <label class="control-label col-md-3">Alias Name:</label>
                                    </div>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.dbServer"
                                               name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_dbServer"
                                               ng-required="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.dbAlias.create"
                                               class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_dbServer.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.dbAlias.create">
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_dbAlias_dbInstance.$invalid }"
                                         uib-tooltip="The Database Server. Name\Instance.">
                                        <label class="control-label col-md-3">Database Server Instance:</label>
                                        <div class="col-md-9">
                                            <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.dbAlias.dbInstance"
                                                   name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_dbAlias_dbInstance"
                                                   class="form-control" ng-required="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.dbAlias.create"
                                                   placeholder="Server\Instance" />
                                            <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_dbAlias_dbInstance.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_dbAlias_dbPort.$invalid }"
                                         uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                        <label class="control-label col-md-3">Database Server Port:</label>
                                        <div class="col-md-9">
                                            <input type="number" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.database.dbAlias.dbPort" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                            <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_database_dbAlias_dbPort.$error" class="text-danger">
                                                <div ng-message="min">The port should be between 1 - 65535.</div>
                                                <div ng-message="max">The port should be between 1 - 65535.</div>
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <legend>Application Pool</legend>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_applicationPool_name.$invalid }"
                                     uib-tooltip="The Service Application Appliaction Pool Name.">
                                    <label class="control-label col-md-3">Application Pool Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.applicationPool.name"
                                               name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_applicationPool_name"
                                               required class="form-control" />
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_applicationPool_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_adminComponent_applicationPool_name.$invalid }"
                                     uib-tooltip="The Admin Component Application Pool Name.">
                                    <label class="control-label col-md-3">Admin Component App Pool Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.adminComponent.applicationPool.name" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_adminComponent_applicationPool_name" required class="form-control" />
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_adminComponent_applicationPool_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <legend>Search Topology</legend>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_adminComponent_provision.$invalid }"
                                     uib-tooltip="Which server(s) to provision the Admin Component on.">
                                    <label class="control-label col-md-3">Admin Component:</label>
                                    <div class="col-md-9">
                                        <input type="hidden" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.adminComponent.provision" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_adminComponent_provision" ensure-expression="{required: config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.adminComponent.provision !== 'false'  && config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.adminComponent.provision !== ''}" />
                                        <ng-provision ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.adminComponent.provision" servers="serversArray"></ng-provision>
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_adminComponent_provision.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_queryComponent_provision.$invalid }"
                                     uib-tooltip="Which server(s) to provision the Query Component on.">
                                    <label class="control-label col-md-3">Query Component:</label>
                                    <div class="col-md-9">
                                        <input type="hidden" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.queryComponent.provision" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_queryComponent_provision" ensure-expression="{required: config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.queryComponent.provision !== 'false' && config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.queryComponent.provision !== ''}" />
                                        <ng-provision ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.queryComponent.provision" servers="serversArray"></ng-provision>
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_queryComponent_provision.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_crawlComponent_provision.$invalid }"
                                     uib-tooltip="Which server(s) to provision the Crawl Component on.">
                                    <label class="control-label col-md-3">Crawl Component:</label>
                                    <div class="col-md-9">
                                        <input type="hidden" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.crawlComponent.provision" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_crawlComponent_provision" ensure-expression="{required: config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.crawlComponent.provision !== 'false' && config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.crawlComponent.provision !== ''}" />
                                        <ng-provision ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.crawlComponent.provision" servers="serversArray"></ng-provision>
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_crawlComponent_provision.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_searchQueryAndSiteSettingsComponent_provision.$invalid }"
                                     uib-tooltip="Which server(s) to provision the Search Query and Site Settings Component on.">
                                    <label class="control-label col-md-3">Search Query And Site Settings Component:</label>
                                    <div class="col-md-9">
                                        <input type="hidden" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.searchQueryAndSiteSettingsComponent.provision" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_searchQueryAndSiteSettingsComponent_provision" ensure-expression="{required: config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.searchQueryAndSiteSettingsComponent.provision !== 'false' && config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.searchQueryAndSiteSettingsComponent.provision !== ''}" />
                                        <ng-provision ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.searchQueryAndSiteSettingsComponent.provision" servers="serversArray"></ng-provision>
                                        <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_searchQueryAndSiteSettingsComponent_provision.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="config.value.install.spVersion !== '2010'">
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_indexComponent_provision.$invalid }"
                                         uib-tooltip="Which server(s) to provision the Index Component on.">
                                        <label class="control-label col-md-3">Index Component:</label>
                                        <div class="col-md-9">
                                            <input type="hidden" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.indexComponent.provision" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_indexComponent_provision" ensure-expression="{required: config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.indexComponent.provision !== 'false' && config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.indexComponent.provision !== ''}" />
                                            <ng-provision ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.indexComponent.provision" servers="serversArray"></ng-provision>
                                            <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_indexComponent_provision.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_contentProcessingComponent_provision.$invalid }"
                                         uib-tooltip="Which server(s) to provision the Content Processing Component on.">
                                        <label class="control-label col-md-3">Content Processing Component:</label>
                                        <div class="col-md-9">
                                            <input type="hidden" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.contentProcessingComponent.provision" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_contentProcessingComponent_provision" ensure-expression="{required: config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.contentProcessingComponent.provision !== 'false' && config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.contentProcessingComponent.provision !== ''}" />
                                            <ng-provision ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.contentProcessingComponent.provision" servers="serversArray"></ng-provision>
                                            <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_contentProcessingComponent_provision.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_analyticsProcessingComponent_provision.$invalid }"
                                         uib-tooltip="Which server(s) to provision the Analytivs Processing Component on.">
                                        <label class="control-label col-md-3">Analytics Processing Component</label>
                                        <div class="col-md-9">
                                            <input type="hidden" ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.analyticsProcessingComponent.provision" name="config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_analyticsProcessingComponent_provision" ensure-expression="{required: config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.analyticsProcessingComponent.provision !== 'false' && config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.analyticsProcessingComponent.provision !== ''}" />
                                            <ng-provision ng-model="config.value.serviceApps.enterpriseSearchService.enterpriseSearchServiceApplications.enterpriseSearchServiceApplication.analyticsProcessingComponent.provision" servers="serversArray"></ng-provision>
                                            <div ng-messages="formServiceAppsSearch.config_value_serviceApps_enterpriseSearchService_enterpriseSearchServiceApplications_enterpriseSearchServiceApplication_analyticsProcessingComponent_provision.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </fieldset>
                </div>
            </ng-form>
            <!--Search-->
            <ng-form ng-show="view === 'ServiceAppsWebAnalytics'" name="formServiceAppsWebAnalytics">
                <div ng-if="config.value.install.spVersion === '2010'">
                    <span class="h2">Web Analytics Service Application</span>
                    <h4>Configure the >Web Analytics Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Web Analytics Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.webAnalyticsService.provision" name="config_value_serviceApps_webAnalyticsService_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.webAnalyticsService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.webAnalyticsService.provision !== 'false' && config.value.serviceApps.webAnalyticsService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.webAnalyticsService.name" name="config_value_serviceApps_webAnalyticsService_name" required class="form-control" />
                                <div ng-messages="formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_reportingDB.$invalid }"
                             uib-tooltip="The name of the Reporting Database.">
                            <label class="control-label col-md-3">Reporting Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.webAnalyticsService.database.reportingDB"
                                           name="config_value_serviceApps_webAnalyticsService_database_reportingDB" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_reportingDB.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_stagingDB.$invalid }"
                             uib-tooltip="The name of the Staging Database.">
                            <label class="control-label col-md-3">Staging Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.webAnalyticsService.database.stagingDB"
                                           name="config_value_serviceApps_webAnalyticsService_database_stagingDB" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_stagingDB.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.webAnalyticsService.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.serviceApps.webAnalyticsService.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.serviceApps.webAnalyticsService.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.webAnalyticsService.database.dbServer" name="config_value_serviceApps_webAnalyticsService_database_dbServer"
                                       ng-required="config.value.serviceApps.webAnalyticsService.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.webAnalyticsService.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.webAnalyticsService.database.dbAlias.dbInstance" name="config_value_serviceApps_webAnalyticsService_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.webAnalyticsService.database.dbAlias.dbPort" name="config_value_serviceApps_webAnalyticsService_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formServiceAppsWebAnalytics.config_value_serviceApps_webAnalyticsService_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Web Analytics-->
            <ng-form ng-show="view === 'ServiceAppsSecureStore'" name="formServiceAppsSecureStore">
                <span class="h2">Secure Store Service Application</span>
                <h4>Configure the Secure Store Service Application</h4>
                <hr />
                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_provision.$invalid }"
                     uib-tooltip="Which server(s) to provision the Secure Store Service on.">
                    <label class="control-label col-md-3">Provision:</label>
                    <div class="col-md-9">
                        <input type="hidden" ng-model="config.value.serviceApps.secureStoreService.provision" name="config_value_serviceApps_secureStoreService_provision" required />
                        <ng-provision ng-model="config.value.serviceApps.secureStoreService.provision" servers="serversArray"></ng-provision>
                        <div ng-messages="formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_provision.$error" class="text-danger">
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </div>
                </div>
                <div ng-if="config.value.serviceApps.secureStoreService.provision !== 'false' && config.value.serviceApps.secureStoreService.provision !== ''">
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_name.$invalid }"
                         uib-tooltip="The Service Application Name.">
                        <label class="control-label col-md-3">Name:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.serviceApps.secureStoreService.name" name="config_value_serviceApps_secureStoreService_name" required class="form-control" />
                            <div ng-messages="formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_name.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_proxyName.$invalid }"
                         uib-tooltip="The Service Application Proxy Name.">
                        <label class="control-label col-md-3">Proxy Name:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.serviceApps.secureStoreService.proxyName" name="config_value_serviceApps_secureStoreService_proxyName" required class="form-control" />
                            <div ng-messages="formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_proxyName.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_database_name.$invalid }"
                         uib-tooltip="The name of the Database.">
                        <label class="control-label col-md-3">Database Name:</label>
                        <div class="col-md-9">
                            <div class="input-group input-group-sm">
                                <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                <input type="text" ng-model="config.value.serviceApps.secureStoreService.database.name" name="config_value_serviceApps_secureStoreService_database_name" required class="form-control" />
                            </div>
                            <div ng-messages="formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_database_name.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                        <label class="control-label col-md-3">Create Alias:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.serviceApps.secureStoreService.database.dbAlias.create" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_database_dbServer.$invalid }"
                         uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                        <div ng-show="config.value.serviceApps.secureStoreService.database.dbAlias.create === false">
                            <label class="control-label col-md-3">Database Server:</label>
                        </div>
                        <div ng-show="config.value.serviceApps.secureStoreService.database.dbAlias.create">
                            <label class="control-label col-md-3">Alias Name:</label>
                        </div>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.serviceApps.secureStoreService.database.dbServer" name="config_value_serviceApps_secureStoreService_database_dbServer"
                                   ng-required="config.value.serviceApps.secureStoreService.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                            <div ng-messages="formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_database_dbServer.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.secureStoreService.database.dbAlias.create">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_database_dbAlias_dbInstance.$invalid }"
                             uib-tooltip="The Database Server. Name\Instance.">
                            <label class="control-label col-md-3">Database Server Instance:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.secureStoreService.database.dbAlias.dbInstance" name="config_value_serviceApps_secureStoreService_database_dbAlias_dbInstance"
                                       class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                <div ng-messages="formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_database_dbAlias_dbInstance.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_database_dbAlias_dbPort.$invalid }"
                             uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                            <label class="control-label col-md-3">Database Server Port:</label>
                            <div class="col-md-9">
                                <input type="number" ng-model="config.value.serviceApps.secureStoreService.database.dbAlias.dbPort" name="config_value_serviceApps_secureStoreService_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                <div ng-messages="formServiceAppsSecureStore.config_value_serviceApps_secureStoreService_database_dbAlias_dbPort.$error" class="text-danger">
                                    <div ng-message="min">The port should be between 1 - 65535.</div>
                                    <div ng-message="max">The port should be between 1 - 65535.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Secure Store-->
            <ng-form ng-show="view === 'ServiceAppsBDC'" name="formServiceAppsBDC">
                <span class="h2">Business Data Connectivity Service Application</span>
                <h4>Configure the Business Data Connectivity Service Application</h4>
                <hr />
                <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_provision.$invalid }"
                     uib-tooltip="Which server(s) to provision the Business Data Connectivity Service on.">
                    <label class="control-label col-md-3">Provision:</label>
                    <div class="col-md-9">
                        <input type="hidden" ng-model="config.value.serviceApps.businessDataConnectivity.provision" name="config_value_serviceApps_businessDataConnectivity_provision" required />
                        <ng-provision ng-model="config.value.serviceApps.businessDataConnectivity.provision" servers="serversArray"></ng-provision>
                        <div ng-messages="formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_provision.$error" class="text-danger">
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </div>
                </div>
                <div ng-if="config.value.serviceApps.businessDataConnectivity.provision !== 'false' && config.value.serviceApps.businessDataConnectivity.provision !== ''">
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_name.$invalid }"
                         uib-tooltip="The Service Application Name.">
                        <label class="control-label col-md-3">Name:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.serviceApps.businessDataConnectivity.name" name="config_value_serviceApps_businessDataConnectivity_name" required class="form-control" />
                            <div ng-messages="formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_name.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_proxyName.$invalid }"
                         uib-tooltip="The Service Application Proxy Name.">
                        <label class="control-label col-md-3">Proxy Name:</label>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.serviceApps.businessDataConnectivity.proxyName" name="config_value_serviceApps_businessDataConnectivity_proxyName"
                                   required class="form-control" />
                            <div ng-messages="formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_proxyName.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_database_name.$invalid }"
                         uib-tooltip="The name of the Database.">
                        <label class="control-label col-md-3">Database Name:</label>
                        <div class="col-md-9">
                            <div class="input-group input-group-sm">
                                <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                <input type="text" ng-model="config.value.serviceApps.businessDataConnectivity.database.name" name="config_value_serviceApps_businessDataConnectivity_database_name" required class="form-control" />
                            </div>
                            <div ng-messages="formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_database_name.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                        <label class="control-label col-md-3">Create Alias:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.serviceApps.businessDataConnectivity.database.dbAlias.create" />
                        </div>
                    </div>
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_database_dbServer.$invalid }"
                         uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                        <div ng-show="config.value.serviceApps.businessDataConnectivity.database.dbAlias.create === false">
                            <label class="control-label col-md-3">Database Server:</label>
                        </div>
                        <div ng-show="config.value.serviceApps.businessDataConnectivity.database.dbAlias.create">
                            <label class="control-label col-md-3">Alias Name:</label>
                        </div>
                        <div class="col-md-9">
                            <input type="text" ng-model="config.value.serviceApps.businessDataConnectivity.database.dbServer" name="config_value_serviceApps_businessDataConnectivity_database_dbServer"
                                   ng-required="config.value.serviceApps.businessDataConnectivity.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                            <div ng-messages="formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_database_dbServer.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.businessDataConnectivity.database.dbAlias.create">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_database_dbAlias_dbInstance.$invalid }"
                             uib-tooltip="The Database Server. Name\Instance.">
                            <label class="control-label col-md-3">Database Server Instance:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.businessDataConnectivity.database.dbAlias.dbInstance" name="config_value_serviceApps_businessDataConnectivity_database_dbAlias_dbInstance"
                                       class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                <div ng-messages="formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_database_dbAlias_dbInstance.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_database_dbAlias_dbPort.$invalid }"
                             uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                            <label class="control-label col-md-3">Database Server Port:</label>
                            <div class="col-md-9">
                                <input type="number" ng-model="config.value.serviceApps.businessDataConnectivity.database.dbAlias.dbPort" name="config_value_serviceApps_businessDataConnectivity_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                <div ng-messages="formServiceAppsBDC.config_value_serviceApps_businessDataConnectivity_database_dbAlias_dbPort.$error" class="text-danger">
                                    <div ng-message="min">The port should be between 1 - 65535.</div>
                                    <div ng-message="max">The port should be between 1 - 65535.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--BDC-->
            <ng-form ng-show="view === 'ServiceAppsAppManagement'" name="formServiceAppsAppManagement">
                <div ng-if="config.value.install.spVersion !== '2010'">
                    <span class="h2">App Management Service Application</span>
                    <h4>Configure the App Management Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsAppManagement.config_value_serviceApps_appManagementService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the App Management Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.appManagementService.provision" name="config_value_serviceApps_appManagementService_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.appManagementService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsAppManagement.config_value_serviceApps_appManagementService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.appManagementService.provision !== 'false' && config.value.serviceApps.appManagementService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsAppManagement.config_value_serviceApps_appManagementService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.appManagementService.name" name="config_value_serviceApps_appManagementService_name"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsAppManagement.config_value_serviceApps_appManagementService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsAppManagement.config_value_serviceApps_appManagementService_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.appManagementService.proxyName" name="config_value_serviceApps_appManagementService_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsAppManagement.config_value_serviceApps_appManagementService_proxyName.$error" class="text-danger"></div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsAppManagement.config_value_serviceApps_appManagementService_appDomain.$invalid }"
                             uib-tooltip="The App domain, ie apps.domain.com">
                            <label class="control-label col-md-3">App Domain:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.appManagementService.appDomain" name="config_value_serviceApps_appManagementService_appDomain"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsAppManagement.config_value_serviceApps_appManagementService_appDomain.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsAppManagement.config_value_serviceApps_appManagementService_database_name.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.appManagementService.database.name"
                                           name="config_value_serviceApps_appManagementService_database_name" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsAppManagement.config_value_serviceApps_appManagementService_database_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.appManagementService.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsAppManagement.config_value_serviceApps_appManagementService_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.serviceApps.appManagementService.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.serviceApps.appManagementService.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.appManagementService.database.dbServer" name="config_value_serviceApps_appManagementService_database_dbServer"
                                       ng-required="config.value.serviceApps.appManagementService.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formServiceAppsAppManagement.config_value_serviceApps_appManagementService_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.appManagementService.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsAppManagement.config_value_serviceApps_appManagementService_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.appManagementService.database.dbAlias.dbInstance" name="config_value_serviceApps_appManagementService_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formServiceAppsAppManagement.config_value_serviceApps_appManagementService_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsAppManagement.config_value_serviceApps_appManagementService_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.appManagementService.database.dbAlias.dbPort" name="config_value_serviceApps_appManagementService_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formServiceAppsAppManagement.config_value_serviceApps_appManagementService_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--APP Management-->
            <ng-form ng-show="view === 'ServiceAppsSubscriptionService'" name="formServiceAppsSubscriptionService">
                <div ng-if="config.value.install.spVersion !== '2010'">
                    <span class="h2">Subscription Settings Service Application</span>
                    <h4>Configure the Subscription Settings Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Subscription Settings Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.subscriptionSettingsService.provision" name="config_value_serviceApps_subscriptionSettingsService_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.subscriptionSettingsService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.subscriptionSettingsService.provision !== 'false' && config.value.serviceApps.subscriptionSettingsService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.subscriptionSettingsService.name" name="config_value_serviceApps_subscriptionSettingsService_name"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_appSiteSubscriptionName.$invalid }"
                             uib-tooltip="The App Site Subscription Name, ie app.">
                            <label class="control-label col-md-3">App Site Subscription Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.subscriptionSettingsService.appSiteSubscriptionName" name="config_value_serviceApps_subscriptionSettingsService_appSiteSubscriptionName"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_appSiteSubscriptionName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_database_name.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.subscriptionSettingsService.database.name"
                                           name="config_value_serviceApps_subscriptionSettingsService_database_name" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_database_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.subscriptionSettingsService.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.serviceApps.subscriptionSettingsService.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.serviceApps.subscriptionSettingsService.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.subscriptionSettingsService.database.dbServer" name="config_value_serviceApps_subscriptionSettingsService_database_dbServer"
                                       ng-required="config.value.serviceApps.subscriptionSettingsService.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.subscriptionSettingsService.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.subscriptionSettingsService.database.dbAlias.dbInstance" name="config_value_serviceApps_subscriptionSettingsService_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.subscriptionSettingsService.database.dbAlias.dbPort" name="config_value_serviceApps_subscriptionSettingsService_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formServiceAppsSubscriptionService.config_value_serviceApps_subscriptionSettingsService_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Subscription Settings Service-->
            <ng-form ng-show="view === 'ServiceAppsWordAutomation'" name="formServiceAppsWordAutomation">
                <div ng-if="config.value.install.spVersion !== '2010' && config.value.install.sku !== 'Foundation'">
                    <span class="h2">Word Automation Service Application</span>
                    <h4>Configure the Word Automation Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Word Automation Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.wordAutomationService.provision" name="config_value_serviceApps_wordAutomationService_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.wordAutomationService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.wordAutomationService.provision !== 'false' && config.value.serviceApps.wordAutomationService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.wordAutomationService.name" name="config_value_serviceApps_wordAutomationService_name"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.wordAutomationService.proxyName" name="config_value_serviceApps_wordAutomationService_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_database_name.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.wordAutomationService.database.name"
                                           name="config_value_serviceApps_wordAutomationService_database_name" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_database_name.$error" class="text-danger">

                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.wordAutomationService.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.serviceApps.wordAutomationService.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.serviceApps.wordAutomationService.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.wordAutomationService.database.dbServer" name="config_value_serviceApps_wordAutomationService_database_dbServer"
                                       ng-required="config.value.serviceApps.wordAutomationService.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.wordAutomationService.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.wordAutomationService.database.dbAlias.dbInstance" name="config_value_serviceApps_wordAutomationService_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.wordAutomationService.database.dbAlias.dbPort" name="config_value_serviceApps_wordAutomationService_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formServiceAppsWordAutomation.config_value_serviceApps_wordAutomationService_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Word Automation-->
            <ng-form ng-show="view === 'ServiceAppsMachineTranslation'" name="formServiceAppsMachineTranslation">
                <div ng-if="config.value.install.spVersion !== '2010' && config.value.install.sku !== 'Foundation'">
                    <span class="h2">Machine Translation Service Application</span>
                    <h4>Configure the Machine Translation Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Machine Translation Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.machineTranslationService.provision" name="config_value_serviceApps_machineTranslationService_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.machineTranslationService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.machineTranslationService.provision !== 'false' && config.value.serviceApps.machineTranslationService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.machineTranslationService.name" name="config_value_serviceApps_machineTranslationService_name"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.machineTranslationService.proxyName" name="config_value_serviceApps_machineTranslationService_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_database_name.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.serviceApps.machineTranslationService.database.name"
                                           name="config_value_serviceApps_machineTranslationService_database_name" required class="form-control" />
                                </div>
                                <div ng-messages="formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_database_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.serviceApps.machineTranslationService.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.serviceApps.machineTranslationService.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.serviceApps.machineTranslationService.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.machineTranslationService.database.dbServer" name="config_value_serviceApps_machineTranslationService_database_dbServer"
                                       ng-required="config.value.serviceApps.machineTranslationService.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_database_dbServer.$error"
                                     class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.serviceApps.machineTranslationService.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.serviceApps.machineTranslationService.database.dbAlias.dbInstance" name="config_value_serviceApps_machineTranslationService_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.serviceApps.machineTranslationService.database.dbAlias.dbPort" name="config_value_serviceApps_machineTranslationService_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formServiceAppsMachineTranslation.config_value_serviceApps_machineTranslationService_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Machine Translation-->
            <ng-form ng-show="view === 'ServiceAppsWorkManagement'" name="formServiceAppsWorkManagement">
                <div ng-if="config.value.install.spVersion === '2013' && config.value.install.sku !== 'Foundation'">
                    <span class="h2">Work Management Service Application</span>
                    <h4>Configure the Work Management Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWorkManagement.config_value_serviceApps_workManagementService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Work Management Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.workManagementService.provision" name="config_value_serviceApps_workManagementService_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.workManagementService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsWorkManagement.config_value_serviceApps_workManagementService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.workManagementService.provision !== 'false' && config.value.serviceApps.workManagementService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWorkManagement.config_value_serviceApps_workManagementService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.workManagementService.name" name="config_value_serviceApps_workManagementService_name"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsWorkManagement.config_value_serviceApps_workManagementService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsWorkManagement.config_value_serviceApps_workManagementService_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.workManagementService.proxyName" name="config_value_serviceApps_workManagementService_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsWorkManagement.config_value_serviceApps_workManagementService_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Work Management-->
            <ng-form ng-show="view === 'ServiceAppsPowerPointConversion'" name="formServiceAppsPowerPointConversion">
                <div ng-if="config.value.install.spVersion !== '2010' && config.value.install.sku !== 'Foundation'">
                    <span class="h2">PowerPoint Conversion Service Application</span>
                    <h4>Configure the PowerPoint Conversion Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsPowerPointConversion.config_value_serviceApps_powerPointConversionService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the PowerPoint Conversion Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.serviceApps.powerPointConversionService.provision" name="config_value_serviceApps_powerPointConversionService_provision" required />
                            <ng-provision ng-model="config.value.serviceApps.powerPointConversionService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formServiceAppsPowerPointConversion.config_value_serviceApps_powerPointConversionService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.serviceApps.powerPointConversionService.provision !== 'false' && config.value.serviceApps.powerPointConversionService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsPowerPointConversion.config_value_serviceApps_powerPointConversionService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.powerPointConversionService.name" name="config_value_serviceApps_powerPointConversionService_name"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsPowerPointConversion.config_value_serviceApps_powerPointConversionService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formServiceAppsPowerPointConversion.config_value_serviceApps_powerPointConversionService_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.serviceApps.powerPointConversionService.proxyName" name="config_value_serviceApps_powerPointConversionService_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formServiceAppsPowerPointConversion.config_value_serviceApps_powerPointConversionService_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--PowerPoint Conversion-->
            <!--Ent Service Apps-->
            <ng-form ng-show="view === 'EntServiceAppsExcelServices'" name="formEntServiceAppsExcelServices">
                <div ng-if="config.value.install.spVersion !== '2016' && config.value.install.spVersion !== '2019' && config.value.install.sku === 'Enterprise'">
                    <span class="h2">Excel Services Service Application</span>
                    <h4>Configure the Excel Services Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsExcelServices.config_value_enterpriseServiceApps_excelServices_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Excel Services Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.enterpriseServiceApps.excelServices.provision" name="config_value_enterpriseServiceApps_excelServices_provision" required />
                            <ng-provision ng-model="config.value.enterpriseServiceApps.excelServices.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formEntServiceAppsExcelServices.config_value_enterpriseServiceApps_excelServices_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.enterpriseServiceApps.excelServices.provision !== 'false' && config.value.enterpriseServiceApps.excelServices.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsExcelServices.config_value_enterpriseServiceApps_excelServices_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.excelServices.name" name="config_value_enterpriseServiceApps_excelServices_name"
                                       required class="form-control" />
                                <div ng-messages="formEntServiceAppsExcelServices.config_value_enterpriseServiceApps_excelServices_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsExcelServices.config_value_enterpriseServiceApps_excelServices_unattendedIDUser.$invalid }"
                             uib-tooltip="UserName of the Unattended Account. This does not have to be SharePoint managed account, and the same account can be re-used for all services. The Format must be Domain\Account">
                            <label class="control-label col-md-3">Unattended Account:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.excelServices.unattendedIDUser" name="config_value_enterpriseServiceApps_excelServices_unattendedIDUser"
                                       required class="form-control" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                                <div ng-messages="formEntServiceAppsExcelServices.config_value_enterpriseServiceApps_excelServices_unattendedIDUser.$error" class="text-danger">
                                    <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsExcelServices.config_value_enterpriseServiceApps_excelServices_unattendedIDPassword.$invalid }"
                             uib-tooltip="The password of the Unattended Account.">
                            <label class="control-label col-md-3">Unattended Account Password:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.excelServices.unattendedIDPassword" name="config_value_enterpriseServiceApps_excelServices_unattendedIDPassword"
                                       class="form-control" />
                                <div ng-messages="formEntServiceAppsExcelServices.config_value_enterpriseServiceApps_excelServices_unattendedIDPassword.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Excel Services-->
            <ng-form ng-show="view === 'EntServiceAppsVisioServices'" name="formEntServiceAppsVisioServices">
                <div ng-if="config.value.install.sku === 'Enterprise'">
                    <span class="h2">Viso Services Service Application</span>
                    <h4>Configure the Viso Services Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Visio Services Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.enterpriseServiceApps.visioService.provision" name="config_value_enterpriseServiceApps_visioService_provision" required />
                            <ng-provision ng-model="config.value.enterpriseServiceApps.visioService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.enterpriseServiceApps.visioService.provision !== 'false' && config.value.enterpriseServiceApps.visioService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.visioService.name" name="config_value_enterpriseServiceApps_visioService_name"
                                       required class="form-control" />
                                <div ng-messages="formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.visioService.proxyName" name="config_value_enterpriseServiceApps_visioService_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_unattendedIDUser.$invalid }"
                             uib-tooltip="UserName of the Unattended Account. This does not have to be SharePoint managed account, and the same account can be re-used for all services. The Format must be Domain\Account">
                            <label class="control-label col-md-3">Unattended Account:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.visioService.unattendedIDUser" name="config_value_enterpriseServiceApps_visioService_unattendedIDUser"
                                       required class="form-control" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                                <div ng-messages="formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_unattendedIDUser.$error" class="text-danger">
                                    <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_unattendedIDPassword.$invalid }"
                             uib-tooltip="The password of the Unattended Account.">
                            <label class="control-label col-md-3">Unattended Account Password:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.visioService.unattendedIDPassword" name="config_value_enterpriseServiceApps_visioService_unattendedIDPassword"
                                       class="form-control" />
                                <div ng-messages="formEntServiceAppsVisioServices.config_value_enterpriseServiceApps_visioService_unattendedIDPassword.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Visio Services-->
            <ng-form ng-show="view === 'EntServiceAppsAccessServices2010'" name="formEntServiceAppsAccessServices2010">
                <div ng-if="config.value.install.sku === 'Enterprise'">
                    <span class="h2">Access Services 2010 Service Application</span>
                    <h4>Configure the Access Services 2010 Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2010.config_value_enterpriseServiceApps_accessService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Access Services 2010 Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.enterpriseServiceApps.accessService.provision" name="config_value_enterpriseServiceApps_accessService_provision" required />
                            <ng-provision ng-model="config.value.enterpriseServiceApps.accessService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formEntServiceAppsAccessServices2010.config_value_enterpriseServiceApps_accessService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.enterpriseServiceApps.accessService.provision !== 'false' && config.value.enterpriseServiceApps.accessService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2010.config_value_enterpriseServiceApps_accessService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.accessService.name" name="config_value_enterpriseServiceApps_accessService_name" required class="form-control" />
                                <div ng-messages="formEntServiceAppsAccessServices2010.config_value_enterpriseServiceApps_accessService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2010.config_value_enterpriseServiceApps_accessService_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.accessService.proxyName" name="config_value_enterpriseServiceApps_accessService_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formEntServiceAppsAccessServices2010.config_value_enterpriseServiceApps_accessService_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Access Services 2010-->
            <ng-form ng-show="view === 'EntServiceAppsAccessServices2013'" name="formEntServiceAppsAccessServices2013">
                <div ng-if="config.value.install.spVersion !== '2010' && config.value.install.sku === 'Enterprise'">
                    <span class="h2">Access Services 2013 Service Application</span>
                    <h4>Configure the Access Services 2013 Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the Access Services 2013 Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.enterpriseServiceApps.accessServices.provision" name="config_value_enterpriseServiceApps_accessServices_provision" required />
                            <ng-provision ng-model="config.value.enterpriseServiceApps.accessServices.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.enterpriseServiceApps.accessServices.provision !== 'false' && config.value.enterpriseServiceApps.accessServices.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.accessServices.name" name="config_value_enterpriseServiceApps_accessServices_name"
                                       required class="form-control" />
                                <div ng-messages="formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.accessServices.proxyName" name="config_value_enterpriseServiceApps_accessServices_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_database_name.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.enterpriseServiceApps.accessServices.database.name"
                                           name="config_value_enterpriseServiceApps_accessServices_database_name" required class="form-control" />
                                </div>
                                <div ng-messages="formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_database_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.enterpriseServiceApps.accessServices.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_database_dbServer.$invalid }"
                             uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.enterpriseServiceApps.accessServices.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.enterpriseServiceApps.accessServices.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.accessServices.database.dbServer" name="config_value_enterpriseServiceApps_accessServices_database_dbServer"
                                       ng-required="config.value.enterpriseServiceApps.accessServices.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.enterpriseServiceApps.accessServices.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_database_dbAlias_dbInstance.$invalid }"
                                 uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.enterpriseServiceApps.accessServices.database.dbAlias.dbInstance" name="config_value_enterpriseServiceApps_accessServices_database_dbAlias_dbInstance"
                                           class="form-control" ng-required="config.value.farm.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.enterpriseServiceApps.accessServices.database.dbAlias.dbPort" name="config_value_enterpriseServiceApps_accessServices_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formEntServiceAppsAccessServices2013.config_value_enterpriseServiceApps_accessServices_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--Access Services 2013-->
            <ng-form ng-show="view === 'EntServiceAppsPerformancePoint'" name="formEntServiceAppsPerformancePoint">
                <div ng-if="config.value.install.sku === 'Enterprise'">
                    <span class="h2">PerformancePoint Services Service Application</span>
                    <h4>Configure the PerformancePoint Services Service Application</h4>
                    <hr />
                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_provision.$invalid }"
                         uib-tooltip="Which server(s) to provision the PerformancePoint Services Service on.">
                        <label class="control-label col-md-3">Provision:</label>
                        <div class="col-md-9">
                            <input type="hidden" ng-model="config.value.enterpriseServiceApps.performancePointService.provision" name="config_value_enterpriseServiceApps_performancePointService_provision" required />
                            <ng-provision ng-model="config.value.enterpriseServiceApps.performancePointService.provision" servers="serversArray"></ng-provision>
                            <div ng-messages="formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_provision.$error" class="text-danger">
                                <div ng-messages-include="error-messages"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="config.value.enterpriseServiceApps.performancePointService.provision !== 'false' && config.value.enterpriseServiceApps.performancePointService.provision !== ''">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_name.$invalid }"
                             uib-tooltip="The Service Application Name.">
                            <label class="control-label col-md-3">Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.performancePointService.name" name="config_value_enterpriseServiceApps_performancePointService_name"
                                       required class="form-control" />
                                <div ng-messages="formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_proxyName.$invalid }"
                             uib-tooltip="The Service Application Proxy Name.">
                            <label class="control-label col-md-3">Proxy Name:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.performancePointService.proxyName" name="config_value_enterpriseServiceApps_performancePointService_proxyName"
                                       required class="form-control" />
                                <div ng-messages="formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_proxyName.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_unattendedIDUser.$invalid }"
                             uib-tooltip="UserName of the Unattended Account. This does not have to be SharePoint managed account, and the same account can be re-used for all services. The Format must be Domain\Account">
                            <label class="control-label col-md-3">Unattended Account:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.performancePointService.unattendedIDUser" name="config_value_enterpriseServiceApps_performancePointService_unattendedIDUser"
                                       required class="form-control" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                                <div ng-messages="formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_unattendedIDUser.$error" class="text-danger">
                                    <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_unattendedIDPassword.$invalid }"
                             uib-tooltip="The password of the Unattended Account.">
                            <label class="control-label col-md-3">Unattended Account Password:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.performancePointService.unattendedIDPassword" name="config_value_enterpriseServiceApps_performancePointService_unattendedIDPassword"
                                       class="form-control" />
                                <div ng-messages="formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_unattendedIDPassword.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_database_name.$invalid }"
                             uib-tooltip="The name of the Database.">
                            <label class="control-label col-md-3">Database Name:</label>
                            <div class="col-md-9">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                    <input type="text" ng-model="config.value.enterpriseServiceApps.performancePointService.database.name" name="config_value_enterpriseServiceApps_performancePointService_database_name" required class="form-control" />
                                </div>
                                <div ng-messages="formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_database_name.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                            <label class="control-label col-md-3">Create Alias:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.enterpriseServiceApps.performancePointService.database.dbAlias.create" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_database_dbServer.$invalid }" uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                            <div ng-show="config.value.enterpriseServiceApps.performancePointService.database.dbAlias.create === false">
                                <label class="control-label col-md-3">Database Server:</label>
                            </div>
                            <div ng-show="config.value.enterpriseServiceApps.performancePointService.database.dbAlias.create">
                                <label class="control-label col-md-3">Alias Name:</label>
                            </div>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.enterpriseServiceApps.performancePointService.database.dbServer" name="config_value_enterpriseServiceApps_performancePointService_database_dbServer" ng-required="config.value.enterpriseServiceApps.performancePointService.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                <div ng-messages="formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_database_dbServer.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="config.value.enterpriseServiceApps.performancePointService.database.dbAlias.create">
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_database_dbAlias_dbInstance.$invalid }" uib-tooltip="The Database Server. Name\Instance.">
                                <label class="control-label col-md-3">Database Server Instance:</label>
                                <div class="col-md-9">
                                    <input type="text" ng-model="config.value.enterpriseServiceApps.performancePointService.database.dbAlias.dbInstance" name="config_value_enterpriseServiceApps_performancePointService_database_dbAlias_dbInstance" class="form-control" ng-required="config.value.enterpriseServiceApps.performancePointService.database.dbAlias.create" placeholder="Server\Instance" />
                                    <div ng-messages="formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_database_dbAlias_dbInstance.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_database_dbAlias_dbPort.$invalid }"
                                 uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                <label class="control-label col-md-3">Database Server Port:</label>
                                <div class="col-md-9">
                                    <input type="number" ng-model="config.value.enterpriseServiceApps.performancePointService.database.dbAlias.dbPort" name="config_value_enterpriseServiceApps_performancePointService_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                    <div ng-messages="formEntServiceAppsPerformancePoint.config_value_enterpriseServiceApps_performancePointService_database_dbAlias_dbPort.$error" class="text-danger">
                                        <div ng-message="min">The port should be between 1 - 65535.</div>
                                        <div ng-message="max">The port should be between 1 - 65535.</div>
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-form>
            <!--PerformancePoint Services-->
            <!--Other-->
            <ng-form ng-show="view === 'Misc'" name="formMisc">
                <span class="h2">Miscellaneous Components</span>
                <h4>Configure the Miscellaneous Components</h4>
                <hr />
                <fieldset>
                    <legend>Adobe PDF</legend>
                    <div class="form-group form-group-sm" uib-tooltip="Enable to configure SharePoint web app MIME type associations to allow direct opening of PDF files (instead of the default behavior of only allowing 'save as').">
                        <label class="control-label col-md-3">Configure PDF MIME Type:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.adobePDF.mimeType.configure" />
                        </div>
                    </div>
                    <div ng-if="config.value.install.spVersion === '2010'">
                        <div class="form-group form-group-sm" uib-tooltip="Enable to download the PDF Icon and configure SharePoint to use it.">
                            <label class="control-label col-md-3">Configure PDF Icon:</label>
                            <div class="col-md-9">
                                <input type="checkbox" ng-model="config.value.adobePDF.icon.configure" />
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formMisc.config_value_adobePDF_iFilter_install.$invalid }"
                             uib-tooltip="Which server(s) to install the Adobe PDF IFilter. This is only required on Search Servers.">
                            <label class="control-label col-md-3">Install iFilter:</label>
                            <div class="col-md-9">
                                <input type="hidden" ng-model="config.value.adobePDF.iFilter.install" name="config_value_adobePDF_iFilter_install" required />
                                <ng-provision ng-model="config.value.adobePDF.iFilter.install" servers="serversArray"></ng-provision>
                                <div ng-messages="formMisc.config_value_adobePDF_iFilter_install.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <fieldset>
                            <legend>ForeFront for SharePoint 2010 (Deprecated)</legend>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formMisc.config_value_foreFront_install.$invalid }"
                                 uib-tooltip="Which server(s) to Install the ForeFront binaries on.">
                                <label class="control-label col-md-3">Install ForeFront:</label>
                                <div class="col-md-9">
                                    <input type="hidden" ng-model="config.value.foreFront.install" name="config_value_foreFront_install" required />
                                    <ng-provision ng-model="config.value.foreFront.install" servers="serversArray"></ng-provision>
                                    <div ng-messages="formMisc.config_value_foreFront_install.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="config.value.foreFront.install !== 'false' && config.value.foreFront.install !== ''">
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formMisc.config_value_foreFront_configFile.$invalid }" uib-tooltip="Normally this is called answerfile-ForeFront.xml. This file contains configuration which the installer will use to install the ForeFront binaries. AutoSPInstaller can now create this file if it doesn't already exist.">
                                    <label class="control-label col-md-3">Config File:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.foreFront.configFile" name="config_value_foreFront_configFile" required class="form-control" />
                                        <div ng-messages="formMisc.config_value_foreFront_configFile.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </fieldset>
            </ng-form>
            <!--Misc-->
            <ng-form ng-show="view === 'OfficeWebApps2010'" name="formOfficeWebApps2010">
                <div ng-if="config.value.install.spVersion === '2010'">
                    <span class="h2">Office Web Apps 2010</span>
                    <h4>Configure Office Web Apps 2010</h4>
                    <hr />
                    <div class="form-group form-group-sm" uib-tooltip="Enable to install Office Web Apps. Please make sure you have the Binaries added to SP/2010/OfficeWebApps in the AutoSPInstaller Directory.">
                        <label class="control-label col-md-3">Install Office Web Apps:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.officeWebApps.install" />
                        </div>
                    </div>
                    <div ng-if="config.value.officeWebApps.install">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_projectServer_configFile.$invalid }"
                             uib-tooltip="Normally this is called config.xml. This file contains configuration which the setup.exe will use to install the Project Server binaries. AutoSPInstaller can now create this file if it doesn't already exist based on the Config File and PIDKey properties below. This text box must not be empty, leave as is if you are not going to create a config.xml manually.">
                            <label class="control-label col-md-3">Config File:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.officeWebApps.configFile" name="config_value_projectServer_configFile" required
                                       class="form-control" />
                                <div ng-messages="formOfficeWebApps2010.config_value_projectServer_configFile.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_projectServer_pidKeyProjectServer.$invalid }"
                             uib-tooltip="If you are referencing an existing config.xml file, enter the your product key in that file.Otherwise, enter your product key here and AutoSPInstaller will create the config.xml for you.Please make sure this serial is valid as AutoSPInstaller is not able to validate it.">
                            <label class="control-label col-md-3">PID Key:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.officeWebApps.pidKeyOWA" name="config_value_projectServer_pidKeyProjectServer"
                                       class="form-control" ng-pattern="/^([A-Z1-9]{5})-([A-Z1-9]{5})-([A-Z1-9]{5})-([A-Z1-9]{5})-([A-Z1-9]{5})$/" />
                                <div ng-messages="formOfficeWebApps2010.config_value_projectServer_pidKeyProjectServer.$error" class="text-danger">
                                    <div ng-message="pattern">This is not a valid Key.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <fieldset>
                            <legend>Excel Services Service Application</legend>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_excelService_provision.$invalid }"
                                 uib-tooltip="Which server(s) to provision the Excel Services Service on.">
                                <label class="control-label col-md-3">Provision:</label>
                                <div class="col-md-9">
                                    <input type="hidden" ng-model="config.value.officeWebApps.excelService.provision" name="config_value_officeWebApps_excelService_provision" required />
                                    <ng-provision ng-model="config.value.officeWebApps.excelService.provision" servers="serversArray"></ng-provision>
                                    <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_excelService_provision.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="config.value.officeWebApps.excelService.provision !== 'false' && config.value.enterpriseServiceApps.excelServices.provision !== ''">
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_excelService_name.$invalid }" uib-tooltip="The Service Application Name.">
                                    <label class="control-label col-md-3">Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.officeWebApps.excelService.name" name="config_value_officeWebApps_excelService_name" required class="form-control" />
                                        <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_excelService_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_excelService_proxyName.$invalid }" uib-tooltip="The Service Application Proxy Name.">
                                    <label class="control-label col-md-3">Proxy Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.officeWebApps.excelService.proxyName" name="config_value_officeWebApps_excelService_proxyName" required class="form-control" />
                                        <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_excelService_proxyName.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_excelService_unattendedIDUser.$invalid }" uib-tooltip="UserName of the Unattended Account. This does not have to be SharePoint managed account, and the same account can be re-used for all services. The Format must be Domain\Account">
                                    <label class="control-label col-md-3">Unattended Account:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.officeWebApps.excelService.unattendedIDUser" name="config_value_officeWebApps_excelService_unattendedIDUser" required ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' class="form-control" />
                                        <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_excelService_unattendedIDUser.$error" class="text-danger">
                                            <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_excelService_unattendedIDPassword.$invalid }" uib-tooltip="The password of the Unattended Account.">
                                    <label class="control-label col-md-3">Unattended Account Password:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.officeWebApps.excelService.unattendedIDPassword" name="config_value_officeWebApps_excelService_unattendedIDPassword" class="form-control" />
                                        <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_excelService_unattendedIDPassword.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <fieldset>
                            <legend>Word Viewing Service Application</legend>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_wordViewingService_provision.$invalid }" uib-tooltip="Which server(s) to provision the Excel Services Service on.">
                                <label class="control-label col-md-3">Provision:</label>
                                <div class="col-md-9">
                                    <input type="hidden" ng-model="config.value.officeWebApps.wordViewingService.provision" name="config_value_officeWebApps_wordViewingService_provision" required />
                                    <ng-provision ng-model="config.value.officeWebApps.wordViewingService.provision" servers="serversArray"></ng-provision>
                                    <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_wordViewingService_provision.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="config.value.officeWebApps.wordViewingService.provision !== 'false' && config.value.enterpriseServiceApps.wordViewingServices.provision !== ''">
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_wordViewingService_name.$invalid }" uib-tooltip="The Service Application Name.">
                                    <label class="control-label col-md-3">Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.officeWebApps.wordViewingService.name" name="config_value_officeWebApps_wordViewingService_name" required class="form-control" />
                                        <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_wordViewingService_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_wordViewingService_proxyName.$invalid }" uib-tooltip="The Service Application Proxy Name.">
                                    <label class="control-label col-md-3">Proxy Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.officeWebApps.wordViewingService.proxyName" name="config_value_officeWebApps_wordViewingService_proxyName" required class="form-control" />
                                        <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_wordViewingService_proxyName.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <fieldset>
                            <legend>PowerPoint Service Application</legend>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_powerPointService_provision.$invalid }" uib-tooltip="Which server(s) to provision the Excel Services Service on.">
                                <label class="control-label col-md-3">Provision:</label>
                                <div class="col-md-9">
                                    <input type="hidden" ng-model="config.value.officeWebApps.powerPointService.provision" name="config_value_officeWebApps_powerPointService_provision" required />
                                    <ng-provision ng-model="config.value.officeWebApps.powerPointService.provision" servers="serversArray"></ng-provision>
                                    <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_powerPointService_provision.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="config.value.officeWebApps.powerPointService.provision !== 'false' && config.value.enterpriseServiceApps.powerPointServices.provision !== ''">
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_powerPointService_name.$invalid }"
                                     uib-tooltip="The Service Application Name.">
                                    <label class="control-label col-md-3">Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.officeWebApps.powerPointService.name" name="config_value_officeWebApps_powerPointService_name"
                                               required class="form-control" />
                                        <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_powerPointService_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formOfficeWebApps2010.config_value_officeWebApps_powerPointService_proxyName.$invalid }" uib-tooltip="The Service Application Proxy Name.">
                                    <label class="control-label col-md-3">Proxy Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.officeWebApps.powerPointService.proxyName" name="config_value_officeWebApps_powerPointService_proxyName" required class="form-control" />
                                        <div ng-messages="formOfficeWebApps2010.config_value_officeWebApps_powerPointService_proxyName.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </ng-form>
            <!--OWA 2010-->
            <ng-form ng-show="view === 'ProjectServer'" name="formProjectServer">
                <div ng-if="config.value.install.spVersion !== '2010' && config.value.install.sku !== 'Foundation'">
                    <span class="h2">Project Server</span>
                    <h4>Configure Project Server</h4>
                    <hr />
                    <div class="form-group form-group-sm" uib-tooltip="Enable to install Project Server. Please make sure you have the Binaries added to SP/(2013 or 2016 or 2019)/ProjectServer in the AutoSPInstaller Directory.">
                        <label class="control-label col-md-3">Install Project Server:</label>
                        <div class="col-md-9">
                            <input type="checkbox" ng-model="config.value.projectServer.install" />
                        </div>
                    </div>
                    <div ng-if="config.value.projectServer.install">
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_configFile.$invalid }" uib-tooltip="Normally this is called config.xml. This file contains configuration which the setup.exe will use to install the Project Server binaries. AutoSPInstaller can now create this file if it doesn't already exist based on the Config File and PIDKey properties below. This text box must not be empty, leave as is if you are not going to create a config.xml manually.">
                            <label class="control-label col-md-3">Config File:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.projectServer.configFile" name="config_value_projectServer_configFile" required class="form-control" />
                                <div ng-messages="formProjectServer.config_value_projectServer_configFile.$error" class="text-danger">
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_pidKeyProjectServer.$invalid }" uib-tooltip="If you are referencing an existing config.xml file, enter the your product key in that file.Otherwise, enter your product key here and AutoSPInstaller will create the config.xml for you.Please make sure this serial is valid as AutoSPInstaller is not able to validate it.">
                            <label class="control-label col-md-3">PID Key:</label>
                            <div class="col-md-9">
                                <input type="text" ng-model="config.value.projectServer.pidKeyProjectServer" name="config_value_projectServer_pidKeyProjectServer" ng-pattern="/^([A-Z1-9]{5})-([A-Z1-9]{5})-([A-Z1-9]{5})-([A-Z1-9]{5})-([A-Z1-9]{5})$/" class="form-control" />
                                <div ng-messages="formProjectServer.config_value_projectServer_pidKeyProjectServer.$error" class="text-danger">
                                    <div ng-message="pattern">This is not a valid Key.</div>
                                    <div ng-messages-include="error-messages"></div>
                                </div>
                            </div>
                        </div>
                        <fieldset>
                            <legend>Project Server Service Application</legend>
                            <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_provision.$invalid }" uib-tooltip="Which server(s) to provision the Project Server Service on.">
                                <label class="control-label col-md-3">Provision:</label>
                                <div class="col-md-9">
                                    <input type="hidden" ng-model="config.value.projectServer.serviceApp.provision" name="config_value_projectServer_serviceApp_provision" required />
                                    <ng-provision ng-model="config.value.projectServer.serviceApp.provision" servers="serversArray"></ng-provision>
                                    <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_provision.$error" class="text-danger">
                                        <div ng-messages-include="error-messages"></div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="config.value.projectServer.serviceApp.provision !== 'false' && config.value.projectServer.serviceApp.provision !== ''">
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_name.$invalid }" uib-tooltip="The Service Application Name.">
                                    <label class="control-label col-md-3">Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.projectServer.serviceApp.name" name="config_value_projectServer_serviceApp_name" required class="form-control" />
                                        <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_proxyName.$invalid }" uib-tooltip="The Service Application Proxy Name.">
                                    <label class="control-label col-md-3">Proxy Name:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.projectServer.serviceApp.proxyName" name="config_value_projectServer_serviceApp_proxyName" required class="form-control" />
                                        <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_proxyName.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_managedPath.$invalid }" uib-tooltip="The Managed Path that the Project Server Site Collections will use.">
                                    <label class="control-label col-md-3">Managed Path:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.projectServer.serviceApp.managedPath" name="config_value_projectServer_serviceApp_managedPath" required class="form-control" />
                                        <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_proxyName.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_serviceAccount.$invalid }" uib-tooltip="The Application Pool username for the Project Server Service Application. Must be in the format of domain\username.">
                                    <label class="control-label col-md-3">Application Pool Account:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.projectServer.serviceApp.serviceAccount" name="config_value_projectServer_serviceApp_serviceAccount" required class="form-control" ng-pattern='/[a-zA-Z0-9]{1,15}\\[^"/\\\[\]:;|=,+?<>]{1,20}/' />
                                        <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_serviceAccount.$error" class="text-danger">
                                            <div ng-message="pattern">This account must be in the format of DOMAIN\username.</div>
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_serviceAccountPassword.$invalid }" uib-tooltip="The Application Pool password for the Project Server Service Application.">
                                    <label class="control-label col-md-3">Application Pool Account Password:</label>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.projectServer.serviceApp.serviceAccountPassword" name="config_value_projectServer_serviceApp_serviceAccountPassword" class="form-control" />
                                        <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_serviceAccountPassword.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_database_name.$invalid }"
                                     uib-tooltip="The name of the Database.">
                                    <label class="control-label col-md-3">Database Name:</label>
                                    <div class="col-md-9">
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-addon">{{config.value.farm.database.dbPrefix}}_</span>
                                            <input type="text" ng-model="config.value.projectServer.serviceApp.database.name" name="config_value_projectServer_serviceApp_database_name" required class="form-control" />
                                        </div>
                                        <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_database_name.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" uib-tooltip="Enable to create an Alias.">
                                    <label class="control-label col-md-3">Create Alias:</label>
                                    <div class="col-md-9">
                                        <input type="checkbox" ng-model="config.value.projectServer.serviceApp.database.dbAlias.create" />
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_database_dbServer.$invalid }" uib-tooltip="The name of the Database server. If Create Alias is enabled, this will be the name of the Alias. Leave blank to use the Farm Database Server/Alias">
                                    <div ng-show="config.value.projectServer.serviceApp.database.dbAlias.create === false">
                                        <label class="control-label col-md-3">Database Server:</label>
                                    </div>
                                    <div ng-show="config.value.projectServer.serviceApp.database.dbAlias.create">
                                        <label class="control-label col-md-3">Alias Name:</label>
                                    </div>
                                    <div class="col-md-9">
                                        <input type="text" ng-model="config.value.projectServer.serviceApp.database.dbServer" name="config_value_projectServer_serviceApp_database_dbServer" ng-required="config.value.projectServer.serviceApp.database.dbAlias.create" class="form-control" placeholder="{{config.value.farm.database.dbServer}}" />
                                        <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_database_dbServer.$error" class="text-danger">
                                            <div ng-messages-include="error-messages"></div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-if="config.value.projectServer.serviceApp.database.dbAlias.create">
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_database_dbAlias_dbInstance.$invalid }"
                                         uib-tooltip="The Database Server. Name\Instance.">
                                        <label class="control-label col-md-3">Database Server Instance:</label>
                                        <div class="col-md-9">
                                            <input type="text" ng-model="config.value.projectServer.serviceApp.database.dbAlias.dbInstance" name="config_value_projectServer_serviceApp_database_dbAlias_dbInstance" class="form-control" ng-required="config.value.projectServer.serviceApp.database.dbAlias.create" placeholder="Server\Instance" />
                                            <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_database_dbAlias_dbInstance.$error" class="text-danger">
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" ng-class="{ 'has-error': formProjectServer.config_value_projectServer_serviceApp_database_dbAlias_dbPort.$invalid }"
                                         uib-tooltip="The Database Server Port, if left blank it will use the default port value of 1433.">
                                        <label class="control-label col-md-3">Database Server Port:</label>
                                        <div class="col-md-9">
                                            <input type="number" ng-model="config.value.projectServer.serviceApp.database.dbAlias.dbPort" name="config_value_projectServer_serviceApp_database_dbAlias_dbPort" integer string-to-number min="1" max="65535" placeholder="1433" class="form-control" />
                                            <div ng-messages="formProjectServer.config_value_projectServer_serviceApp_database_dbAlias_dbPort.$error" class="text-danger">
                                                <div ng-message="min">The port should be between 1 - 65535.</div>
                                                <div ng-message="max">The port should be between 1 - 65535.</div>
                                                <div ng-messages-include="error-messages"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </ng-form>
            <!--PWA 2013-->
        </form>
        <div ng-if="view === 'Review'">
            <span class="h2">Review & Download</span>
            <h4>Copy the text below and save it to your machine as .xml</h4>
            <hr />
            <h4>We highly suggest that your review our Guide, if you have not already.</h4>
            <div ng-if="mainForm.$invalid" class="text-danger h4">
                Please Note: There are issues with your configuration. Navigate through all of the sections which contain a
                <i class="fa fa-exclamation-triangle text-danger"></i> and resolve the issues. Otherwise, the script may fail!
            </div>
            <textarea ng-model="output" rows="20" class="form-control"></textarea>
        </div>
    </div>
</div>